--------------------------------------------------------
-- Archivo creado  - s√°bado-diciembre-06-2025   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Type DETALLE_ESTADIA_REC
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_ESTADIA_REC" AS OBJECT (
    COD_HABITACION NUMBER,
    FECHA_ESTADIA DATE,
    DIAS NUMBER,
    PRECIO_HABITACION NUMBER
);

/
--------------------------------------------------------
--  DDL for Type DETALLE_ESTADIA_TAB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_ESTADIA_TAB" AS TABLE OF DETALLE_ESTADIA_REC;

/
--------------------------------------------------------
--  DDL for Type DETALLE_PEDIDO_REC
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_PEDIDO_REC" AS OBJECT (
    COD_PROVEEDOR NUMBER,
    COD_PRODUCTO NUMBER,
    NOMBRE_PRODUCTO VARCHAR2(50),
    CANTIDAD_PRODUCTO NUMBER,
    PRECIO_COMPRA NUMBER
);

/
--------------------------------------------------------
--  DDL for Type DETALLE_PEDIDO_TAB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_PEDIDO_TAB" AS TABLE OF DETALLE_PEDIDO_REC;

/
--------------------------------------------------------
--  DDL for Type DETALLE_VENTA_REC
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_VENTA_REC" AS OBJECT (
    COD_PRODUCTO NUMBER,
    CANTIDAD NUMBER,
    PRECIO_PRODUCTO NUMBER
);

/
--------------------------------------------------------
--  DDL for Type DETALLE_VENTA_TAB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_VENTA_TAB" AS TABLE OF DETALLE_VENTA_REC;

/
--------------------------------------------------------
--  DDL for Type DETALLE_ESTADIA_REC
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_ESTADIA_REC" AS OBJECT (
    COD_HABITACION NUMBER,
    FECHA_ESTADIA DATE,
    DIAS NUMBER,
    PRECIO_HABITACION NUMBER
);

/
--------------------------------------------------------
--  DDL for Type DETALLE_PEDIDO_REC
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_PEDIDO_REC" AS OBJECT (
    COD_PROVEEDOR NUMBER,
    COD_PRODUCTO NUMBER,
    NOMBRE_PRODUCTO VARCHAR2(50),
    CANTIDAD_PRODUCTO NUMBER,
    PRECIO_COMPRA NUMBER
);

/
--------------------------------------------------------
--  DDL for Type DETALLE_VENTA_REC
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_VENTA_REC" AS OBJECT (
    COD_PRODUCTO NUMBER,
    CANTIDAD NUMBER,
    PRECIO_PRODUCTO NUMBER
);

/
--------------------------------------------------------
--  DDL for Type DETALLE_PEDIDO_TAB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_PEDIDO_TAB" AS TABLE OF DETALLE_PEDIDO_REC;

/
--------------------------------------------------------
--  DDL for Type DETALLE_ESTADIA_TAB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_ESTADIA_TAB" AS TABLE OF DETALLE_ESTADIA_REC;

/
--------------------------------------------------------
--  DDL for Type DETALLE_VENTA_TAB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TYPE "UCM"."DETALLE_VENTA_TAB" AS TABLE OF DETALLE_VENTA_REC;

/
--------------------------------------------------------
--  DDL for Sequence SQ_PK_CLIENTE
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_CLIENTE"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_EMPLEADO
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_EMPLEADO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_EVENTO_RESERVA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_EVENTO_RESERVA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_EXPERIENCIA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_EXPERIENCIA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_HABITACION
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_HABITACION"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_MOVIMIENTO_STOCK
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_MOVIMIENTO_STOCK"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_PAGO_HAB
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_PAGO_HAB"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_PAGO_VENTA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_PAGO_VENTA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_PEDIDO
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_PEDIDO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_PRODUCTO
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_PRODUCTO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_RESERVA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_RESERVA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_RESERVA_EXP
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_RESERVA_EXP"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_ROL
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_ROL"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 24 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_SOLICITUD_ADMIN
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_SOLICITUD_ADMIN"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_USUARIO
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_USUARIO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_VENTA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_VENTA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_CLIENTE
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_CLIENTE"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_EMPLEADO
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_EMPLEADO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_EVENTO_RESERVA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_EVENTO_RESERVA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_EXPERIENCIA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_EXPERIENCIA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_HABITACION
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_HABITACION"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_MOVIMIENTO_STOCK
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_MOVIMIENTO_STOCK"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_PAGO_HAB
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_PAGO_HAB"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_PAGO_VENTA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_PAGO_VENTA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_PEDIDO
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_PEDIDO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_PRODUCTO
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_PRODUCTO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_RESERVA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_RESERVA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_RESERVA_EXP
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_RESERVA_EXP"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_ROL
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_ROL"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 24 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_SOLICITUD_ADMIN
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_SOLICITUD_ADMIN"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_USUARIO
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_USUARIO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence SQ_PK_VENTA
--------------------------------------------------------

   CREATE SEQUENCE  "UCM"."SQ_PK_VENTA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Table JRGY_CALLE
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CALLE" 
   (	"COD_CALLE" NUMBER, 
	"CALLE" VARCHAR2(50 BYTE), 
	"NRO" NUMBER, 
	"COD_COMUNA" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_ESTADO_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_ESTADO_HABITACION" 
   (	"COD_ESTADO_HABITACION" NUMBER, 
	"ESTADO_HABITACION" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_ESTADO_LABORAL
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_ESTADO_LABORAL" 
   (	"COD_ESTADO_LABORAL" NUMBER, 
	"ESTADO_LABORAL" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_ESTADO_RESERVA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_ESTADO_RESERVA" 
   (	"COD_ESTADO_RESERVA" NUMBER, 
	"ESTADO_RESERVA" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_ESTADO_USUARIO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_ESTADO_USUARIO" 
   (	"COD_ESTADO_USUARIO" NUMBER, 
	"ESTADO_USUARIO" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_MODO_PAGO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_MODO_PAGO" 
   (	"COD_MODO_PAGO" NUMBER, 
	"MODO_PAGO" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_TIPO_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_TIPO_HABITACION" 
   (	"COD_TIPO_HABITACION" NUMBER, 
	"TIPO_HABITACION" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CIUDAD
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CIUDAD" 
   (	"COD_CIUDAD" NUMBER, 
	"CIUDAD" VARCHAR2(50 BYTE), 
	"COD_REGION" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CLIENTE
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CLIENTE" 
   (	"COD_CLIENTE" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"FECHA_ALTA" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_COMUNA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_COMUNA" 
   (	"COD_COMUNA" NUMBER, 
	"COMUNA" VARCHAR2(50 BYTE), 
	"COD_CIUDAD" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_DEPARTAMENTO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_DEPARTAMENTO" 
   (	"COD_DEPARTAMENTO" NUMBER, 
	"NOMBRE_DEPARTAMENTO" VARCHAR2(50 BYTE), 
	"JEFE_EMPLEADO_ID" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_DETALLE_PAGO_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_DETALLE_PAGO_HABITACION" 
   (	"COD_PAGO_HABITACION" NUMBER, 
	"COD_HABITACION" NUMBER, 
	"FECHA_ESTADIA" DATE, 
	"PRECIO_HABITACION" NUMBER, 
	"DIAS" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_DETALLE_PEDIDO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_DETALLE_PEDIDO" 
   (	"COD_PEDIDO" NUMBER, 
	"COD_PROVEEDOR" NUMBER, 
	"COD_PRODUCTO" NUMBER, 
	"NOMBRE_PRODUCTO" VARCHAR2(50 BYTE), 
	"CANTIDAD_PRODUCTO" NUMBER, 
	"PRECIO_COMPRA" NUMBER, 
	"PRECIO_TOTAL" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_DETALLE_VENTA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_DETALLE_VENTA" 
   (	"COD_VENTA" NUMBER, 
	"COD_PRODUCTO" NUMBER, 
	"CANTIDAD" NUMBER, 
	"PRECIO_PRODUCTO" NUMBER, 
	"PRECIO_TOTAL" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_EMPLEADO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_EMPLEADO" 
   (	"COD_EMPLEADO" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"COD_DEPARTAMENTO" NUMBER, 
	"CARGO" VARCHAR2(50 BYTE), 
	"FECHA_CONTRATACION" DATE, 
	"SALARIO" NUMBER, 
	"COMISION" NUMBER, 
	"COD_ESTADO_LABORAL" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_EVENTO_RESERVA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_EVENTO_RESERVA" 
   (	"COD_EVENTO_RESERVA" NUMBER, 
	"COD_RESERVA" NUMBER, 
	"TIPO_EVENTO" VARCHAR2(50 BYTE), 
	"FECHA_EVENTO" DATE, 
	"NOTAS" VARCHAR2(500 BYTE), 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"CREATED_BY" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_EXPERIENCIA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_EXPERIENCIA" 
   (	"COD_EXPERIENCIA" NUMBER, 
	"NOMBRE" VARCHAR2(100 BYTE), 
	"DESCRIPCION" VARCHAR2(255 BYTE), 
	"PRECIO" NUMBER, 
	"TAG" VARCHAR2(50 BYTE), 
	"ESTADO" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_HABITACION" 
   (	"COD_HABITACION" NUMBER, 
	"NRO_HABITACION" NUMBER, 
	"CAPACIDAD" NUMBER, 
	"COD_TIPO_HABITACION" NUMBER, 
	"COD_ESTADO_HABITACION" NUMBER, 
	"PRECIO_BASE" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_MOVIMIENTO_STOCK
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_MOVIMIENTO_STOCK" 
   (	"COD_MOVIMIENTO" NUMBER, 
	"COD_PRODUCTO" NUMBER, 
	"TIPO_MOVIMIENTO" VARCHAR2(20 BYTE), 
	"CANTIDAD" NUMBER, 
	"FECHA_MOVIMIENTO" DATE, 
	"MOTIVO" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PAGO_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PAGO_HABITACION" 
   (	"COD_PAGO_HABITACION" NUMBER, 
	"FECHA_PAGO" DATE, 
	"VALOR_TOTAL_PAGO" NUMBER, 
	"COD_USUARIO" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PAGO_VENTA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PAGO_VENTA" 
   (	"COD_PAGO" NUMBER, 
	"COD_VENTA" NUMBER, 
	"COD_MODO_PAGO" NUMBER, 
	"MONTO" NUMBER, 
	"FECHA_PAGO" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PEDIDO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PEDIDO" 
   (	"COD_PEDIDO" NUMBER, 
	"VALOR_TOTAL" NUMBER, 
	"FECHA_PEDIDO" DATE, 
	"COD_EMPLEADO" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PRODUCTO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PRODUCTO" 
   (	"COD_PRODUCTO" NUMBER, 
	"NOMBRE_PRODUCTO" VARCHAR2(50 BYTE), 
	"TIPO_PRODUCTO" VARCHAR2(20 BYTE), 
	"PRECIO_PRODUCTO" NUMBER, 
	"CANTIDAD_PRODUCTO" NUMBER, 
	"STOCK_PRODUCTO" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PROVEEDOR
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PROVEEDOR" 
   (	"COD_PROVEEDOR" NUMBER, 
	"NOMBRE_PROVEEDOR" VARCHAR2(50 BYTE), 
	"DIRECCION_PROVEEDOR" VARCHAR2(100 BYTE), 
	"TELEFONO_PROVEEDOR" NUMBER, 
	"COD_REGION" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_REGION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_REGION" 
   (	"COD_REGION" NUMBER, 
	"REGION" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_RESERVA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_RESERVA" 
   (	"COD_RESERVA" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"COD_HABITACION" NUMBER, 
	"FECHA_INICIO" DATE, 
	"FECHA_FIN" DATE, 
	"HUESPEDES" NUMBER, 
	"TOTAL" NUMBER, 
	"COD_ESTADO_RESERVA" NUMBER, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"UPDATED_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_RESERVA_EXP
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_RESERVA_EXP" 
   (	"COD_RESERVA_EXP" NUMBER, 
	"COD_RESERVA" NUMBER, 
	"COD_EXPERIENCIA" NUMBER, 
	"CANTIDAD" NUMBER DEFAULT 1, 
	"PRECIO_UNITARIO" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_ROL
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_ROL" 
   (	"COD_ROL" NUMBER, 
	"NOMBRE_ROL" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_SOLICITUD_ADMIN
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_SOLICITUD_ADMIN" 
   (	"COD_SOLICITUD" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"ESTADO" VARCHAR2(20 BYTE), 
	"MOTIVO" VARCHAR2(255 BYTE), 
	"APROBADO_POR" NUMBER, 
	"FECHA_CREACION" DATE DEFAULT SYSDATE, 
	"FECHA_RESOLUCION" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_USUARIO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_USUARIO" 
   (	"COD_USUARIO" NUMBER, 
	"NOMBRE_USUARIO" VARCHAR2(50 BYTE), 
	"APELLIDO1_USUARIO" VARCHAR2(50 BYTE), 
	"APELLIDO2_USUARIO" VARCHAR2(50 BYTE), 
	"EMAIL_USUARIO" VARCHAR2(100 BYTE), 
	"TELEFONO_USUARIO" NUMBER, 
	"CONTRASENA_HASH" VARCHAR2(255 BYTE), 
	"COD_ESTADO_USUARIO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_USUARIO_ROL
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_USUARIO_ROL" 
   (	"COD_USUARIO" NUMBER, 
	"COD_ROL" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_VENTA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_VENTA" 
   (	"COD_VENTA" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"COD_EMPLEADO" NUMBER, 
	"FECHA_VENTA" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TOKENS
--------------------------------------------------------

  CREATE TABLE "UCM"."TOKENS" 
   (	"TOKEN" VARCHAR2(128 BYTE), 
	"USER_ID" NUMBER, 
	"EXPIRES_AT" DATE, 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_COMUNA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_COMUNA" 
   (	"COD_COMUNA" NUMBER, 
	"COMUNA" VARCHAR2(50 BYTE), 
	"COD_CIUDAD" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_REGION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_REGION" 
   (	"COD_REGION" NUMBER, 
	"REGION" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_USUARIO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_USUARIO" 
   (	"COD_USUARIO" NUMBER, 
	"NOMBRE_USUARIO" VARCHAR2(50 BYTE), 
	"APELLIDO1_USUARIO" VARCHAR2(50 BYTE), 
	"APELLIDO2_USUARIO" VARCHAR2(50 BYTE), 
	"EMAIL_USUARIO" VARCHAR2(100 BYTE), 
	"TELEFONO_USUARIO" NUMBER, 
	"CONTRASENA_HASH" VARCHAR2(255 BYTE), 
	"COD_ESTADO_USUARIO" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CIUDAD
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CIUDAD" 
   (	"COD_CIUDAD" NUMBER, 
	"CIUDAD" VARCHAR2(50 BYTE), 
	"COD_REGION" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_EMPLEADO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_EMPLEADO" 
   (	"COD_EMPLEADO" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"COD_DEPARTAMENTO" NUMBER, 
	"CARGO" VARCHAR2(50 BYTE), 
	"FECHA_CONTRATACION" DATE, 
	"SALARIO" NUMBER, 
	"COMISION" NUMBER, 
	"COD_ESTADO_LABORAL" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_HABITACION" 
   (	"COD_HABITACION" NUMBER, 
	"NRO_HABITACION" NUMBER, 
	"CAPACIDAD" NUMBER, 
	"COD_TIPO_HABITACION" NUMBER, 
	"COD_ESTADO_HABITACION" NUMBER, 
	"PRECIO_BASE" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PAGO_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PAGO_HABITACION" 
   (	"COD_PAGO_HABITACION" NUMBER, 
	"FECHA_PAGO" DATE, 
	"VALOR_TOTAL_PAGO" NUMBER, 
	"COD_USUARIO" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PROVEEDOR
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PROVEEDOR" 
   (	"COD_PROVEEDOR" NUMBER, 
	"NOMBRE_PROVEEDOR" VARCHAR2(50 BYTE), 
	"DIRECCION_PROVEEDOR" VARCHAR2(100 BYTE), 
	"TELEFONO_PROVEEDOR" NUMBER, 
	"COD_REGION" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PRODUCTO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PRODUCTO" 
   (	"COD_PRODUCTO" NUMBER, 
	"NOMBRE_PRODUCTO" VARCHAR2(50 BYTE), 
	"TIPO_PRODUCTO" VARCHAR2(20 BYTE), 
	"PRECIO_PRODUCTO" NUMBER, 
	"CANTIDAD_PRODUCTO" NUMBER, 
	"STOCK_PRODUCTO" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PEDIDO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PEDIDO" 
   (	"COD_PEDIDO" NUMBER, 
	"VALOR_TOTAL" NUMBER, 
	"FECHA_PEDIDO" DATE, 
	"COD_EMPLEADO" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_VENTA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_VENTA" 
   (	"COD_VENTA" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"COD_EMPLEADO" NUMBER, 
	"FECHA_VENTA" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_ESTADO_LABORAL
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_ESTADO_LABORAL" 
   (	"COD_ESTADO_LABORAL" NUMBER, 
	"ESTADO_LABORAL" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_DEPARTAMENTO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_DEPARTAMENTO" 
   (	"COD_DEPARTAMENTO" NUMBER, 
	"NOMBRE_DEPARTAMENTO" VARCHAR2(50 BYTE), 
	"JEFE_EMPLEADO_ID" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_RESERVA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_RESERVA" 
   (	"COD_RESERVA" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"COD_HABITACION" NUMBER, 
	"FECHA_INICIO" DATE, 
	"FECHA_FIN" DATE, 
	"HUESPEDES" NUMBER, 
	"TOTAL" NUMBER, 
	"COD_ESTADO_RESERVA" NUMBER, 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"UPDATED_AT" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_ESTADO_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_ESTADO_HABITACION" 
   (	"COD_ESTADO_HABITACION" NUMBER, 
	"ESTADO_HABITACION" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_TIPO_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_TIPO_HABITACION" 
   (	"COD_TIPO_HABITACION" NUMBER, 
	"TIPO_HABITACION" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_MODO_PAGO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_MODO_PAGO" 
   (	"COD_MODO_PAGO" NUMBER, 
	"MODO_PAGO" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_ESTADO_RESERVA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_ESTADO_RESERVA" 
   (	"COD_ESTADO_RESERVA" NUMBER, 
	"ESTADO_RESERVA" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_EXPERIENCIA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_EXPERIENCIA" 
   (	"COD_EXPERIENCIA" NUMBER, 
	"NOMBRE" VARCHAR2(100 BYTE), 
	"DESCRIPCION" VARCHAR2(255 BYTE), 
	"PRECIO" NUMBER, 
	"TAG" VARCHAR2(50 BYTE), 
	"ESTADO" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CAT_ESTADO_USUARIO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CAT_ESTADO_USUARIO" 
   (	"COD_ESTADO_USUARIO" NUMBER, 
	"ESTADO_USUARIO" VARCHAR2(30 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_ROL
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_ROL" 
   (	"COD_ROL" NUMBER, 
	"NOMBRE_ROL" VARCHAR2(50 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CALLE
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CALLE" 
   (	"COD_CALLE" NUMBER, 
	"CALLE" VARCHAR2(50 BYTE), 
	"NRO" NUMBER, 
	"COD_COMUNA" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_CLIENTE
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_CLIENTE" 
   (	"COD_CLIENTE" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"FECHA_ALTA" DATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_DETALLE_PAGO_HABITACION
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_DETALLE_PAGO_HABITACION" 
   (	"COD_PAGO_HABITACION" NUMBER, 
	"COD_HABITACION" NUMBER, 
	"FECHA_ESTADIA" DATE, 
	"PRECIO_HABITACION" NUMBER, 
	"DIAS" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_DETALLE_PEDIDO
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_DETALLE_PEDIDO" 
   (	"COD_PEDIDO" NUMBER, 
	"COD_PROVEEDOR" NUMBER, 
	"COD_PRODUCTO" NUMBER, 
	"NOMBRE_PRODUCTO" VARCHAR2(50 BYTE), 
	"CANTIDAD_PRODUCTO" NUMBER, 
	"PRECIO_COMPRA" NUMBER, 
	"PRECIO_TOTAL" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_DETALLE_VENTA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_DETALLE_VENTA" 
   (	"COD_VENTA" NUMBER, 
	"COD_PRODUCTO" NUMBER, 
	"CANTIDAD" NUMBER, 
	"PRECIO_PRODUCTO" NUMBER, 
	"PRECIO_TOTAL" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_EVENTO_RESERVA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_EVENTO_RESERVA" 
   (	"COD_EVENTO_RESERVA" NUMBER, 
	"COD_RESERVA" NUMBER, 
	"TIPO_EVENTO" VARCHAR2(50 BYTE), 
	"FECHA_EVENTO" DATE, 
	"NOTAS" VARCHAR2(500 BYTE), 
	"CREATED_AT" DATE DEFAULT SYSDATE, 
	"CREATED_BY" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_MOVIMIENTO_STOCK
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_MOVIMIENTO_STOCK" 
   (	"COD_MOVIMIENTO" NUMBER, 
	"COD_PRODUCTO" NUMBER, 
	"TIPO_MOVIMIENTO" VARCHAR2(20 BYTE), 
	"CANTIDAD" NUMBER, 
	"FECHA_MOVIMIENTO" DATE, 
	"MOTIVO" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_PAGO_VENTA
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_PAGO_VENTA" 
   (	"COD_PAGO" NUMBER, 
	"COD_VENTA" NUMBER, 
	"COD_MODO_PAGO" NUMBER, 
	"MONTO" NUMBER, 
	"FECHA_PAGO" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_RESERVA_EXP
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_RESERVA_EXP" 
   (	"COD_RESERVA_EXP" NUMBER, 
	"COD_RESERVA" NUMBER, 
	"COD_EXPERIENCIA" NUMBER, 
	"CANTIDAD" NUMBER DEFAULT 1, 
	"PRECIO_UNITARIO" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_SOLICITUD_ADMIN
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_SOLICITUD_ADMIN" 
   (	"COD_SOLICITUD" NUMBER, 
	"COD_USUARIO" NUMBER, 
	"ESTADO" VARCHAR2(20 BYTE), 
	"MOTIVO" VARCHAR2(255 BYTE), 
	"APROBADO_POR" NUMBER, 
	"FECHA_CREACION" DATE DEFAULT SYSDATE, 
	"FECHA_RESOLUCION" DATE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table JRGY_USUARIO_ROL
--------------------------------------------------------

  CREATE TABLE "UCM"."JRGY_USUARIO_ROL" 
   (	"COD_USUARIO" NUMBER, 
	"COD_ROL" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TOKENS
--------------------------------------------------------

  CREATE TABLE "UCM"."TOKENS" 
   (	"TOKEN" VARCHAR2(128 BYTE), 
	"USER_ID" NUMBER, 
	"EXPIRES_AT" DATE, 
	"CREATED_AT" DATE DEFAULT SYSDATE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into UCM.JRGY_CALLE
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_CAT_ESTADO_HABITACION
SET DEFINE OFF;
Insert into UCM.JRGY_CAT_ESTADO_HABITACION (COD_ESTADO_HABITACION,ESTADO_HABITACION) values ('1','LIBRE');
Insert into UCM.JRGY_CAT_ESTADO_HABITACION (COD_ESTADO_HABITACION,ESTADO_HABITACION) values ('2','OCUPADA');
Insert into UCM.JRGY_CAT_ESTADO_HABITACION (COD_ESTADO_HABITACION,ESTADO_HABITACION) values ('3','MANTENCION');
REM INSERTING into UCM.JRGY_CAT_ESTADO_LABORAL
SET DEFINE OFF;
Insert into UCM.JRGY_CAT_ESTADO_LABORAL (COD_ESTADO_LABORAL,ESTADO_LABORAL) values ('1','ACTIVO');
Insert into UCM.JRGY_CAT_ESTADO_LABORAL (COD_ESTADO_LABORAL,ESTADO_LABORAL) values ('2','SUSPENDIDO');
REM INSERTING into UCM.JRGY_CAT_ESTADO_RESERVA
SET DEFINE OFF;
Insert into UCM.JRGY_CAT_ESTADO_RESERVA (COD_ESTADO_RESERVA,ESTADO_RESERVA) values ('1','CREADA');
Insert into UCM.JRGY_CAT_ESTADO_RESERVA (COD_ESTADO_RESERVA,ESTADO_RESERVA) values ('2','CONFIRMADA');
Insert into UCM.JRGY_CAT_ESTADO_RESERVA (COD_ESTADO_RESERVA,ESTADO_RESERVA) values ('3','EN_PROCESO');
Insert into UCM.JRGY_CAT_ESTADO_RESERVA (COD_ESTADO_RESERVA,ESTADO_RESERVA) values ('4','FINALIZADA');
Insert into UCM.JRGY_CAT_ESTADO_RESERVA (COD_ESTADO_RESERVA,ESTADO_RESERVA) values ('5','CANCELADA');
REM INSERTING into UCM.JRGY_CAT_ESTADO_USUARIO
SET DEFINE OFF;
Insert into UCM.JRGY_CAT_ESTADO_USUARIO (COD_ESTADO_USUARIO,ESTADO_USUARIO) values ('1','ACTIVO');
Insert into UCM.JRGY_CAT_ESTADO_USUARIO (COD_ESTADO_USUARIO,ESTADO_USUARIO) values ('2','INACTIVO');
REM INSERTING into UCM.JRGY_CAT_MODO_PAGO
SET DEFINE OFF;
Insert into UCM.JRGY_CAT_MODO_PAGO (COD_MODO_PAGO,MODO_PAGO) values ('1','EFECTIVO');
Insert into UCM.JRGY_CAT_MODO_PAGO (COD_MODO_PAGO,MODO_PAGO) values ('2','TARJETA');
Insert into UCM.JRGY_CAT_MODO_PAGO (COD_MODO_PAGO,MODO_PAGO) values ('3','TRANSFERENCIA');
REM INSERTING into UCM.JRGY_CAT_TIPO_HABITACION
SET DEFINE OFF;
Insert into UCM.JRGY_CAT_TIPO_HABITACION (COD_TIPO_HABITACION,TIPO_HABITACION) values ('1','SIMPLE');
Insert into UCM.JRGY_CAT_TIPO_HABITACION (COD_TIPO_HABITACION,TIPO_HABITACION) values ('2','DOBLE');
Insert into UCM.JRGY_CAT_TIPO_HABITACION (COD_TIPO_HABITACION,TIPO_HABITACION) values ('3','MATRIMONIAL');
Insert into UCM.JRGY_CAT_TIPO_HABITACION (COD_TIPO_HABITACION,TIPO_HABITACION) values ('4','PREMIUM');
Insert into UCM.JRGY_CAT_TIPO_HABITACION (COD_TIPO_HABITACION,TIPO_HABITACION) values ('5','CONFORT');
Insert into UCM.JRGY_CAT_TIPO_HABITACION (COD_TIPO_HABITACION,TIPO_HABITACION) values ('6','MATRIMONIAL_FAMILIAR');
Insert into UCM.JRGY_CAT_TIPO_HABITACION (COD_TIPO_HABITACION,TIPO_HABITACION) values ('7','SUITE');
REM INSERTING into UCM.JRGY_CIUDAD
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_CLIENTE
SET DEFINE OFF;
Insert into UCM.JRGY_CLIENTE (COD_CLIENTE,COD_USUARIO,FECHA_ALTA) values ('1','3',to_date('06/12/25','DD/MM/RR'));
REM INSERTING into UCM.JRGY_COMUNA
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_DEPARTAMENTO
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_DETALLE_PAGO_HABITACION
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_DETALLE_PEDIDO
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_DETALLE_VENTA
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_EMPLEADO
SET DEFINE OFF;
Insert into UCM.JRGY_EMPLEADO (COD_EMPLEADO,COD_USUARIO,COD_DEPARTAMENTO,CARGO,FECHA_CONTRATACION,SALARIO,COMISION,COD_ESTADO_LABORAL) values ('1','2',null,'Recepcionista',to_date('06/12/25','DD/MM/RR'),'850000','0','1');
REM INSERTING into UCM.JRGY_EVENTO_RESERVA
SET DEFINE OFF;
Insert into UCM.JRGY_EVENTO_RESERVA (COD_EVENTO_RESERVA,COD_RESERVA,TIPO_EVENTO,FECHA_EVENTO,NOTAS,CREATED_AT,CREATED_BY) values ('6','5','CREADA',to_date('06/12/25','DD/MM/RR'),'Reserva creada',to_date('06/12/25','DD/MM/RR'),'3');
Insert into UCM.JRGY_EVENTO_RESERVA (COD_EVENTO_RESERVA,COD_RESERVA,TIPO_EVENTO,FECHA_EVENTO,NOTAS,CREATED_AT,CREATED_BY) values ('1','1','CREADA',to_date('06/12/25','DD/MM/RR'),'Reserva creada',to_date('06/12/25','DD/MM/RR'),'3');
Insert into UCM.JRGY_EVENTO_RESERVA (COD_EVENTO_RESERVA,COD_RESERVA,TIPO_EVENTO,FECHA_EVENTO,NOTAS,CREATED_AT,CREATED_BY) values ('2','2','CREADA',to_date('06/12/25','DD/MM/RR'),'Reserva creada',to_date('06/12/25','DD/MM/RR'),'3');
Insert into UCM.JRGY_EVENTO_RESERVA (COD_EVENTO_RESERVA,COD_RESERVA,TIPO_EVENTO,FECHA_EVENTO,NOTAS,CREATED_AT,CREATED_BY) values ('3','3','CREADA',to_date('06/12/25','DD/MM/RR'),'Reserva creada',to_date('06/12/25','DD/MM/RR'),'4');
Insert into UCM.JRGY_EVENTO_RESERVA (COD_EVENTO_RESERVA,COD_RESERVA,TIPO_EVENTO,FECHA_EVENTO,NOTAS,CREATED_AT,CREATED_BY) values ('4','4','CREADA',to_date('06/12/25','DD/MM/RR'),'Reserva creada',to_date('06/12/25','DD/MM/RR'),'3');
Insert into UCM.JRGY_EVENTO_RESERVA (COD_EVENTO_RESERVA,COD_RESERVA,TIPO_EVENTO,FECHA_EVENTO,NOTAS,CREATED_AT,CREATED_BY) values ('5','2','CONFIRMADA',to_date('06/12/25','DD/MM/RR'),null,to_date('06/12/25','DD/MM/RR'),'3');
Insert into UCM.JRGY_EVENTO_RESERVA (COD_EVENTO_RESERVA,COD_RESERVA,TIPO_EVENTO,FECHA_EVENTO,NOTAS,CREATED_AT,CREATED_BY) values ('7','5','CHECKIN',to_date('06/12/25','DD/MM/RR'),null,to_date('06/12/25','DD/MM/RR'),'3');
Insert into UCM.JRGY_EVENTO_RESERVA (COD_EVENTO_RESERVA,COD_RESERVA,TIPO_EVENTO,FECHA_EVENTO,NOTAS,CREATED_AT,CREATED_BY) values ('8','2','CANCELADA',to_date('06/12/25','DD/MM/RR'),'Conectas',to_date('06/12/25','DD/MM/RR'),'3');
REM INSERTING into UCM.JRGY_EXPERIENCIA
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_HABITACION
SET DEFINE OFF;
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('1','101','1','1','1','45000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('2','102','1','1','1','45000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('3','103','1','1','1','45000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('4','201','2','3','1','60000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('5','202','2','3','1','60000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('6','203','2','3','1','60000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('7','301','2','5','1','70000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('8','302','2','5','1','70000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('9','303','2','5','1','70000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('10','401','4','6','1','90000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('11','402','4','6','1','90000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('12','403','4','6','1','90000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('13','501','3','7','1','85000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('14','502','3','7','1','85000');
Insert into UCM.JRGY_HABITACION (COD_HABITACION,NRO_HABITACION,CAPACIDAD,COD_TIPO_HABITACION,COD_ESTADO_HABITACION,PRECIO_BASE) values ('15','503','3','7','1','85000');
REM INSERTING into UCM.JRGY_MOVIMIENTO_STOCK
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_PAGO_HABITACION
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_PAGO_VENTA
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_PEDIDO
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_PRODUCTO
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_PROVEEDOR
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_REGION
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_RESERVA
SET DEFINE OFF;
Insert into UCM.JRGY_RESERVA (COD_RESERVA,COD_USUARIO,COD_HABITACION,FECHA_INICIO,FECHA_FIN,HUESPEDES,TOTAL,COD_ESTADO_RESERVA,CREATED_AT,UPDATED_AT) values ('5','3','4',to_date('05/12/25','DD/MM/RR'),to_date('13/12/25','DD/MM/RR'),'1','480000','1',to_date('06/12/25','DD/MM/RR'),null);
Insert into UCM.JRGY_RESERVA (COD_RESERVA,COD_USUARIO,COD_HABITACION,FECHA_INICIO,FECHA_FIN,HUESPEDES,TOTAL,COD_ESTADO_RESERVA,CREATED_AT,UPDATED_AT) values ('1','3','1',to_date('09/12/25','DD/MM/RR'),to_date('11/12/25','DD/MM/RR'),'1','90000','1',to_date('06/12/25','DD/MM/RR'),null);
Insert into UCM.JRGY_RESERVA (COD_RESERVA,COD_USUARIO,COD_HABITACION,FECHA_INICIO,FECHA_FIN,HUESPEDES,TOTAL,COD_ESTADO_RESERVA,CREATED_AT,UPDATED_AT) values ('2','3','1',to_date('12/12/25','DD/MM/RR'),to_date('20/12/25','DD/MM/RR'),'1','360000','1',to_date('06/12/25','DD/MM/RR'),null);
Insert into UCM.JRGY_RESERVA (COD_RESERVA,COD_USUARIO,COD_HABITACION,FECHA_INICIO,FECHA_FIN,HUESPEDES,TOTAL,COD_ESTADO_RESERVA,CREATED_AT,UPDATED_AT) values ('3','4','1',to_date('05/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'),'1','45000','1',to_date('06/12/25','DD/MM/RR'),null);
Insert into UCM.JRGY_RESERVA (COD_RESERVA,COD_USUARIO,COD_HABITACION,FECHA_INICIO,FECHA_FIN,HUESPEDES,TOTAL,COD_ESTADO_RESERVA,CREATED_AT,UPDATED_AT) values ('4','3','3',to_date('12/12/25','DD/MM/RR'),to_date('13/12/25','DD/MM/RR'),'1','45000','1',to_date('06/12/25','DD/MM/RR'),null);
REM INSERTING into UCM.JRGY_RESERVA_EXP
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_ROL
SET DEFINE OFF;
Insert into UCM.JRGY_ROL (COD_ROL,NOMBRE_ROL) values ('1','ADMIN');
Insert into UCM.JRGY_ROL (COD_ROL,NOMBRE_ROL) values ('2','EMPLOYEE');
Insert into UCM.JRGY_ROL (COD_ROL,NOMBRE_ROL) values ('3','USER');
Insert into UCM.JRGY_ROL (COD_ROL,NOMBRE_ROL) values ('4','ADMINISTRADOR');
REM INSERTING into UCM.JRGY_SOLICITUD_ADMIN
SET DEFINE OFF;
REM INSERTING into UCM.JRGY_USUARIO
SET DEFINE OFF;
Insert into UCM.JRGY_USUARIO (COD_USUARIO,NOMBRE_USUARIO,APELLIDO1_USUARIO,APELLIDO2_USUARIO,EMAIL_USUARIO,TELEFONO_USUARIO,CONTRASENA_HASH,COD_ESTADO_USUARIO) values ('1','Gustavo_admin_page','Gallegos','Harnisch','gustavo.admin@example.com','123456789','$2y$10$LpD0f3wJ8i0R5I72dq4KC.UEMlOqhgCXNEuWP9pFYVod4SElutUKC','1');
Insert into UCM.JRGY_USUARIO (COD_USUARIO,NOMBRE_USUARIO,APELLIDO1_USUARIO,APELLIDO2_USUARIO,EMAIL_USUARIO,TELEFONO_USUARIO,CONTRASENA_HASH,COD_ESTADO_USUARIO) values ('2','Gustavo','Empleado','Demo','gustavo.empleado@example.com','222333444','$2b$10$TZqYb93d3DilnJNOcPyAremBnzyaTNy4MyYQeUp.koMaSBQv6p9qm','1');
Insert into UCM.JRGY_USUARIO (COD_USUARIO,NOMBRE_USUARIO,APELLIDO1_USUARIO,APELLIDO2_USUARIO,EMAIL_USUARIO,TELEFONO_USUARIO,CONTRASENA_HASH,COD_ESTADO_USUARIO) values ('3','Gustavo','Cliente','Demo','gustavo.cliente@example.com','333444555','$2b$10$KyrGt1QEWo0MgY8IR3x0cObXdSevb01PAEF4EczGl2ig/O1va6HHS','1');
Insert into UCM.JRGY_USUARIO (COD_USUARIO,NOMBRE_USUARIO,APELLIDO1_USUARIO,APELLIDO2_USUARIO,EMAIL_USUARIO,TELEFONO_USUARIO,CONTRASENA_HASH,COD_ESTADO_USUARIO) values ('4','nn','nn','nn','nn.user@gmail.com','123456789','$2a$10$Clot/bdRNXBVe35ctDPwJONJ9wBBDTWONIWuVO0gFk3cd8b3UmpVe','1');
REM INSERTING into UCM.JRGY_USUARIO_ROL
SET DEFINE OFF;
Insert into UCM.JRGY_USUARIO_ROL (COD_USUARIO,COD_ROL) values ('1','1');
Insert into UCM.JRGY_USUARIO_ROL (COD_USUARIO,COD_ROL) values ('2','2');
Insert into UCM.JRGY_USUARIO_ROL (COD_USUARIO,COD_ROL) values ('3','3');
Insert into UCM.JRGY_USUARIO_ROL (COD_USUARIO,COD_ROL) values ('4','3');
REM INSERTING into UCM.JRGY_VENTA
SET DEFINE OFF;
REM INSERTING into UCM.TOKENS
SET DEFINE OFF;
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('1bc3d228e0947973503cbec49157f2fb2dc812613b7b4f4f016bb0267fce0274','1',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('cc06f37ffc7a7304762ab73848da5722c8c98656ac8460bee7bc1a318b8c85cd','1',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('b80bc65ca75d0ed363d955fbefffced23724748c9d21311383cbbbd90416f074','4',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('f58061d9b389b28bcb618387367d0976b7fe6c568b7bb88ba56b0123e84539d2','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('16646afa6efb636c5015b0ca57f906fe4a84d444588896e78fd41aec32639433','1',to_date('07/12/25','DD/MM/RR'),to_date('07/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('d31c893e3e0a614e91895c7edfdcdf77bee9e331520da002be94d19e78378671','1',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('a85d760ede26da97b2b6d344498588481279da129f24afe90e41c62a3d8b32c5','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('ddbd0194a3f5a3f263a010fe69f9cf6a0149d0fbcc4dfe239287d1d76a2db916','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('9ffe8eefa1fbad55ea3e54b4ecdaa94e558069e5112c866caa8658f7bcb67e87','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('ab773205dc3f333e4914a2ed9fa3410d801d8df95ebfed6a4ea477f4231c3362','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('cdfc293caed172652b8cb553799046ab96f9a98517e2954127448e70f355b997','1',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('7637bb821f87674267c5e7496c01309ed74a860fcecdc9ae2fe8344640c73be6','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('9f4e1fd74ae51cd712a9ab8408778cdf05d036a228594219772183732108b8ad','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('72a79d5a296336cacf8783fd39b4c3800f0eb94e6fdd346a02764ab495632973','1',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('5078a317ba1f8c163df28741ce412d6bfa2e5c5b2c9cfc1e1824d72587a0689f','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
Insert into UCM.TOKENS (TOKEN,USER_ID,EXPIRES_AT,CREATED_AT) values ('f48de6d1105069fe175437d07a8fd622295bfdef93cc4d895f20ae675757bf45','3',to_date('07/12/25','DD/MM/RR'),to_date('06/12/25','DD/MM/RR'));
--------------------------------------------------------
--  DDL for Index IDX_JRGY_EVENTO_RESERVA_RES
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_EVENTO_RESERVA_RES" ON "UCM"."JRGY_EVENTO_RESERVA" ("COD_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_RESERVA_EXP_EXP
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_RESERVA_EXP_EXP" ON "UCM"."JRGY_RESERVA_EXP" ("COD_EXPERIENCIA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_RESERVA_EXP_RES
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_RESERVA_EXP_RES" ON "UCM"."JRGY_RESERVA_EXP" ("COD_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_RESERVA_HAB
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_RESERVA_HAB" ON "UCM"."JRGY_RESERVA" ("COD_HABITACION", "FECHA_INICIO", "FECHA_FIN") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_RESERVA_USUARIO
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_RESERVA_USUARIO" ON "UCM"."JRGY_RESERVA" ("COD_USUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_SOLICITUD_USUARIO
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_SOLICITUD_USUARIO" ON "UCM"."JRGY_SOLICITUD_ADMIN" ("COD_USUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_TOKENS_USER
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_TOKENS_USER" ON "UCM"."TOKENS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CALLE
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CALLE" ON "UCM"."JRGY_CALLE" ("COD_CALLE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_ESTADO_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_ESTADO_HABITACION" ON "UCM"."JRGY_CAT_ESTADO_HABITACION" ("COD_ESTADO_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_ESTADO_LABORAL
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_ESTADO_LABORAL" ON "UCM"."JRGY_CAT_ESTADO_LABORAL" ("COD_ESTADO_LABORAL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_ESTADO_RESERVA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_ESTADO_RESERVA" ON "UCM"."JRGY_CAT_ESTADO_RESERVA" ("COD_ESTADO_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_ESTADO_USUARIO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_ESTADO_USUARIO" ON "UCM"."JRGY_CAT_ESTADO_USUARIO" ("COD_ESTADO_USUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_MODO_PAGO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_MODO_PAGO" ON "UCM"."JRGY_CAT_MODO_PAGO" ("COD_MODO_PAGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_TIPO_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_TIPO_HABITACION" ON "UCM"."JRGY_CAT_TIPO_HABITACION" ("COD_TIPO_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CIUDAD
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CIUDAD" ON "UCM"."JRGY_CIUDAD" ("COD_CIUDAD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CLIENTE
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CLIENTE" ON "UCM"."JRGY_CLIENTE" ("COD_CLIENTE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_COMUNA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_COMUNA" ON "UCM"."JRGY_COMUNA" ("COD_COMUNA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_DEPARTAMENTO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_DEPARTAMENTO" ON "UCM"."JRGY_DEPARTAMENTO" ("COD_DEPARTAMENTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_DETALLE_PAGO_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_DETALLE_PAGO_HABITACION" ON "UCM"."JRGY_DETALLE_PAGO_HABITACION" ("COD_PAGO_HABITACION", "COD_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_DETALLE_PEDIDO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_DETALLE_PEDIDO" ON "UCM"."JRGY_DETALLE_PEDIDO" ("COD_PEDIDO", "COD_PROVEEDOR", "COD_PRODUCTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_DETALLE_VENTA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_DETALLE_VENTA" ON "UCM"."JRGY_DETALLE_VENTA" ("COD_VENTA", "COD_PRODUCTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_EMPLEADO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_EMPLEADO" ON "UCM"."JRGY_EMPLEADO" ("COD_EMPLEADO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_EVENTO_RESERVA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_EVENTO_RESERVA" ON "UCM"."JRGY_EVENTO_RESERVA" ("COD_EVENTO_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_EXPERIENCIA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_EXPERIENCIA" ON "UCM"."JRGY_EXPERIENCIA" ("COD_EXPERIENCIA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_HABITACION" ON "UCM"."JRGY_HABITACION" ("COD_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_MOVIMIENTO_STOCK
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_MOVIMIENTO_STOCK" ON "UCM"."JRGY_MOVIMIENTO_STOCK" ("COD_MOVIMIENTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PAGO_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PAGO_HABITACION" ON "UCM"."JRGY_PAGO_HABITACION" ("COD_PAGO_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PAGO_VENTA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PAGO_VENTA" ON "UCM"."JRGY_PAGO_VENTA" ("COD_PAGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PEDIDO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PEDIDO" ON "UCM"."JRGY_PEDIDO" ("COD_PEDIDO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PRODUCTO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PRODUCTO" ON "UCM"."JRGY_PRODUCTO" ("COD_PRODUCTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PROVEEDOR
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PROVEEDOR" ON "UCM"."JRGY_PROVEEDOR" ("COD_PROVEEDOR") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_REGION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_REGION" ON "UCM"."JRGY_REGION" ("COD_REGION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_RESERVA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_RESERVA" ON "UCM"."JRGY_RESERVA" ("COD_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_RESERVA_EXP
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_RESERVA_EXP" ON "UCM"."JRGY_RESERVA_EXP" ("COD_RESERVA_EXP") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_ROL
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_ROL" ON "UCM"."JRGY_ROL" ("COD_ROL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_SOLICITUD_ADMIN
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_SOLICITUD_ADMIN" ON "UCM"."JRGY_SOLICITUD_ADMIN" ("COD_SOLICITUD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_USUARIO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_USUARIO" ON "UCM"."JRGY_USUARIO" ("COD_USUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_USUARIO_ROL
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_USUARIO_ROL" ON "UCM"."JRGY_USUARIO_ROL" ("COD_USUARIO", "COD_ROL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_VENTA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_VENTA" ON "UCM"."JRGY_VENTA" ("COD_VENTA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_TOKENS
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_TOKENS" ON "UCM"."TOKENS" ("TOKEN") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CALLE
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CALLE" ON "UCM"."JRGY_CALLE" ("COD_CALLE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_ESTADO_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_ESTADO_HABITACION" ON "UCM"."JRGY_CAT_ESTADO_HABITACION" ("COD_ESTADO_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_ESTADO_LABORAL
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_ESTADO_LABORAL" ON "UCM"."JRGY_CAT_ESTADO_LABORAL" ("COD_ESTADO_LABORAL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_ESTADO_RESERVA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_ESTADO_RESERVA" ON "UCM"."JRGY_CAT_ESTADO_RESERVA" ("COD_ESTADO_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_ESTADO_USUARIO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_ESTADO_USUARIO" ON "UCM"."JRGY_CAT_ESTADO_USUARIO" ("COD_ESTADO_USUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_MODO_PAGO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_MODO_PAGO" ON "UCM"."JRGY_CAT_MODO_PAGO" ("COD_MODO_PAGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CAT_TIPO_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CAT_TIPO_HABITACION" ON "UCM"."JRGY_CAT_TIPO_HABITACION" ("COD_TIPO_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CIUDAD
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CIUDAD" ON "UCM"."JRGY_CIUDAD" ("COD_CIUDAD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_CLIENTE
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_CLIENTE" ON "UCM"."JRGY_CLIENTE" ("COD_CLIENTE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_COMUNA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_COMUNA" ON "UCM"."JRGY_COMUNA" ("COD_COMUNA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_DEPARTAMENTO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_DEPARTAMENTO" ON "UCM"."JRGY_DEPARTAMENTO" ("COD_DEPARTAMENTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_DETALLE_PAGO_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_DETALLE_PAGO_HABITACION" ON "UCM"."JRGY_DETALLE_PAGO_HABITACION" ("COD_PAGO_HABITACION", "COD_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_DETALLE_PEDIDO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_DETALLE_PEDIDO" ON "UCM"."JRGY_DETALLE_PEDIDO" ("COD_PEDIDO", "COD_PROVEEDOR", "COD_PRODUCTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_DETALLE_VENTA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_DETALLE_VENTA" ON "UCM"."JRGY_DETALLE_VENTA" ("COD_VENTA", "COD_PRODUCTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_EMPLEADO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_EMPLEADO" ON "UCM"."JRGY_EMPLEADO" ("COD_EMPLEADO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_EVENTO_RESERVA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_EVENTO_RESERVA" ON "UCM"."JRGY_EVENTO_RESERVA" ("COD_EVENTO_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_EVENTO_RESERVA_RES
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_EVENTO_RESERVA_RES" ON "UCM"."JRGY_EVENTO_RESERVA" ("COD_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_EXPERIENCIA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_EXPERIENCIA" ON "UCM"."JRGY_EXPERIENCIA" ("COD_EXPERIENCIA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_HABITACION" ON "UCM"."JRGY_HABITACION" ("COD_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_MOVIMIENTO_STOCK
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_MOVIMIENTO_STOCK" ON "UCM"."JRGY_MOVIMIENTO_STOCK" ("COD_MOVIMIENTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PAGO_HABITACION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PAGO_HABITACION" ON "UCM"."JRGY_PAGO_HABITACION" ("COD_PAGO_HABITACION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PAGO_VENTA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PAGO_VENTA" ON "UCM"."JRGY_PAGO_VENTA" ("COD_PAGO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PEDIDO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PEDIDO" ON "UCM"."JRGY_PEDIDO" ("COD_PEDIDO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PRODUCTO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PRODUCTO" ON "UCM"."JRGY_PRODUCTO" ("COD_PRODUCTO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_PROVEEDOR
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_PROVEEDOR" ON "UCM"."JRGY_PROVEEDOR" ("COD_PROVEEDOR") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_REGION
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_REGION" ON "UCM"."JRGY_REGION" ("COD_REGION") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_RESERVA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_RESERVA" ON "UCM"."JRGY_RESERVA" ("COD_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_RESERVA_USUARIO
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_RESERVA_USUARIO" ON "UCM"."JRGY_RESERVA" ("COD_USUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_RESERVA_HAB
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_RESERVA_HAB" ON "UCM"."JRGY_RESERVA" ("COD_HABITACION", "FECHA_INICIO", "FECHA_FIN") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_RESERVA_EXP
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_RESERVA_EXP" ON "UCM"."JRGY_RESERVA_EXP" ("COD_RESERVA_EXP") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_RESERVA_EXP_RES
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_RESERVA_EXP_RES" ON "UCM"."JRGY_RESERVA_EXP" ("COD_RESERVA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_RESERVA_EXP_EXP
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_RESERVA_EXP_EXP" ON "UCM"."JRGY_RESERVA_EXP" ("COD_EXPERIENCIA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_ROL
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_ROL" ON "UCM"."JRGY_ROL" ("COD_ROL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_SOLICITUD_ADMIN
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_SOLICITUD_ADMIN" ON "UCM"."JRGY_SOLICITUD_ADMIN" ("COD_SOLICITUD") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_JRGY_SOLICITUD_USUARIO
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_JRGY_SOLICITUD_USUARIO" ON "UCM"."JRGY_SOLICITUD_ADMIN" ("COD_USUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_USUARIO
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_USUARIO" ON "UCM"."JRGY_USUARIO" ("COD_USUARIO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_USUARIO_ROL
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_USUARIO_ROL" ON "UCM"."JRGY_USUARIO_ROL" ("COD_USUARIO", "COD_ROL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_JRGY_VENTA
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_JRGY_VENTA" ON "UCM"."JRGY_VENTA" ("COD_VENTA") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PK_TOKENS
--------------------------------------------------------

  CREATE UNIQUE INDEX "UCM"."PK_TOKENS" ON "UCM"."TOKENS" ("TOKEN") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index IDX_TOKENS_USER
--------------------------------------------------------

  CREATE INDEX "UCM"."IDX_TOKENS_USER" ON "UCM"."TOKENS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger TRG_HAB_LIBRE_ON_DETALLE_DEL
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_HAB_LIBRE_ON_DETALLE_DEL" 
    AFTER DELETE ON JRGY_DETALLE_PAGO_HABITACION
    FOR EACH ROW
BEGIN
    UPDATE JRGY_HABITACION
    SET COD_ESTADO_HABITACION = (
        SELECT COD_ESTADO_HABITACION
        FROM JRGY_CAT_ESTADO_HABITACION
        WHERE UPPER(ESTADO_HABITACION) = 'LIBRE'
    )
    WHERE COD_HABITACION = :OLD.COD_HABITACION;
END;
/
ALTER TRIGGER "UCM"."TRG_HAB_LIBRE_ON_DETALLE_DEL" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_HAB_OCUPADA_ON_DETALLE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_HAB_OCUPADA_ON_DETALLE" 
    AFTER INSERT ON JRGY_DETALLE_PAGO_HABITACION
    FOR EACH ROW
BEGIN
    UPDATE JRGY_HABITACION
    SET COD_ESTADO_HABITACION = (
        SELECT COD_ESTADO_HABITACION
        FROM JRGY_CAT_ESTADO_HABITACION
        WHERE UPPER(ESTADO_HABITACION) = 'OCUPADA'
    )
    WHERE COD_HABITACION = :NEW.COD_HABITACION;
END;
/
ALTER TRIGGER "UCM"."TRG_HAB_OCUPADA_ON_DETALLE" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_MISMA_PK_EMPLEADO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_MISMA_PK_EMPLEADO" BEFORE INSERT ON JRGY_EMPLEADO FOR EACH ROW
DECLARE V_COUNT NUMBER;
BEGIN
    SELECT COUNT(*) INTO V_COUNT FROM JRGY_EMPLEADO WHERE COD_EMPLEADO = :NEW.COD_EMPLEADO;
    IF V_COUNT > 0 THEN RAISE_APPLICATION_ERROR(-2002, 'YA EXISTE EL EMPLEADO'); END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_MISMA_PK_EMPLEADO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_MISMA_PK_PRODUCTO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_MISMA_PK_PRODUCTO" BEFORE INSERT ON JRGY_PRODUCTO FOR EACH ROW
DECLARE V_COUNT NUMBER;
BEGIN
    SELECT COUNT(*) INTO V_COUNT FROM JRGY_PRODUCTO WHERE COD_PRODUCTO = :NEW.COD_PRODUCTO;
    IF V_COUNT > 0 THEN RAISE_APPLICATION_ERROR(-2003, 'YA EXISTE EL PRODUCTO'); END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_MISMA_PK_PRODUCTO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_MISMA_PK_USUARIO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_MISMA_PK_USUARIO" BEFORE INSERT ON JRGY_USUARIO FOR EACH ROW
DECLARE V_COUNT NUMBER;
BEGIN
    SELECT COUNT(*) INTO V_COUNT FROM JRGY_USUARIO WHERE COD_USUARIO = :NEW.COD_USUARIO;
    IF V_COUNT > 0 THEN RAISE_APPLICATION_ERROR(-2001, 'YA EXISTE EL USUARIO'); END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_MISMA_PK_USUARIO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_CLIENTE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_CLIENTE" BEFORE INSERT ON JRGY_CLIENTE FOR EACH ROW
BEGIN IF :NEW.COD_CLIENTE IS NULL THEN :NEW.COD_CLIENTE := SQ_PK_CLIENTE.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_CLIENTE" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_EMPLEADO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_EMPLEADO" BEFORE INSERT ON JRGY_EMPLEADO FOR EACH ROW
BEGIN IF :NEW.COD_EMPLEADO IS NULL THEN :NEW.COD_EMPLEADO := SQ_PK_EMPLEADO.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_EMPLEADO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_EVENTO_RESERVA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_EVENTO_RESERVA" BEFORE INSERT ON JRGY_EVENTO_RESERVA FOR EACH ROW
BEGIN IF :NEW.COD_EVENTO_RESERVA IS NULL THEN :NEW.COD_EVENTO_RESERVA := SQ_PK_EVENTO_RESERVA.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_EVENTO_RESERVA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_EXPERIENCIA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_EXPERIENCIA" BEFORE INSERT ON JRGY_EXPERIENCIA FOR EACH ROW
BEGIN
    IF :NEW.COD_EXPERIENCIA IS NULL THEN
        :NEW.COD_EXPERIENCIA := SQ_PK_EXPERIENCIA.NEXTVAL;
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_PK_EXPERIENCIA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_HABITACION
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_HABITACION" BEFORE INSERT ON JRGY_HABITACION FOR EACH ROW
BEGIN IF :NEW.COD_HABITACION IS NULL THEN :NEW.COD_HABITACION := SQ_PK_HABITACION.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_HABITACION" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_MOVIMIENTO_STOCK
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_MOVIMIENTO_STOCK" BEFORE INSERT ON JRGY_MOVIMIENTO_STOCK FOR EACH ROW
BEGIN IF :NEW.COD_MOVIMIENTO IS NULL THEN :NEW.COD_MOVIMIENTO := SQ_PK_MOVIMIENTO_STOCK.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_MOVIMIENTO_STOCK" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_PAGO_HAB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_PAGO_HAB" BEFORE INSERT ON JRGY_PAGO_HABITACION FOR EACH ROW
BEGIN IF :NEW.COD_PAGO_HABITACION IS NULL THEN :NEW.COD_PAGO_HABITACION := SQ_PK_PAGO_HAB.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_PAGO_HAB" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_PAGO_VENTA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_PAGO_VENTA" BEFORE INSERT ON JRGY_PAGO_VENTA FOR EACH ROW
BEGIN IF :NEW.COD_PAGO IS NULL THEN :NEW.COD_PAGO := SQ_PK_PAGO_VENTA.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_PAGO_VENTA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_PEDIDO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_PEDIDO" BEFORE INSERT ON JRGY_PEDIDO FOR EACH ROW
BEGIN
    IF :NEW.COD_PEDIDO IS NULL THEN
        :NEW.COD_PEDIDO := SQ_PK_PEDIDO.NEXTVAL;
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_PK_PEDIDO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_PRODUCTO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_PRODUCTO" BEFORE INSERT ON JRGY_PRODUCTO FOR EACH ROW
BEGIN IF :NEW.COD_PRODUCTO IS NULL THEN :NEW.COD_PRODUCTO := SQ_PK_PRODUCTO.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_PRODUCTO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_RESERVA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_RESERVA" BEFORE INSERT ON JRGY_RESERVA FOR EACH ROW
BEGIN IF :NEW.COD_RESERVA IS NULL THEN :NEW.COD_RESERVA := SQ_PK_RESERVA.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_RESERVA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_RESERVA_EXP
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_RESERVA_EXP" BEFORE INSERT ON JRGY_RESERVA_EXP FOR EACH ROW
BEGIN
    IF :NEW.COD_RESERVA_EXP IS NULL THEN
        :NEW.COD_RESERVA_EXP := SQ_PK_RESERVA_EXP.NEXTVAL;
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_PK_RESERVA_EXP" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_ROL
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_ROL" BEFORE INSERT ON JRGY_ROL FOR EACH ROW
BEGIN IF :NEW.COD_ROL IS NULL THEN :NEW.COD_ROL := SQ_PK_ROL.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_ROL" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_SOLICITUD_ADMIN
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_SOLICITUD_ADMIN" BEFORE INSERT ON JRGY_SOLICITUD_ADMIN FOR EACH ROW
BEGIN IF :NEW.COD_SOLICITUD IS NULL THEN :NEW.COD_SOLICITUD := SQ_PK_SOLICITUD_ADMIN.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_SOLICITUD_ADMIN" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_USUARIO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_USUARIO" BEFORE INSERT ON JRGY_USUARIO FOR EACH ROW
BEGIN
    IF :NEW.COD_USUARIO IS NULL THEN
        SELECT SQ_PK_USUARIO.NEXTVAL INTO :NEW.COD_USUARIO FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_PK_USUARIO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_VENTA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_VENTA" BEFORE INSERT ON JRGY_VENTA FOR EACH ROW
BEGIN IF :NEW.COD_VENTA IS NULL THEN :NEW.COD_VENTA := SQ_PK_VENTA.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_VENTA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_RESERVA_NO_OVERLAP
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_RESERVA_NO_OVERLAP" 
    BEFORE INSERT OR UPDATE ON JRGY_RESERVA
    FOR EACH ROW
DECLARE
    v_current_id NUMBER := NVL(:NEW.COD_RESERVA, :OLD.COD_RESERVA);
    v_dummy NUMBER;
BEGIN
    -- Validacion de fechas
    IF :NEW.FECHA_FIN < :NEW.FECHA_INICIO THEN
        RAISE_APPLICATION_ERROR(-20060, 'La fecha fin debe ser mayor o igual a la de inicio');
    END IF;

    -- Evita solapes de reservas en la misma habitacion
    BEGIN
        SELECT 1
        INTO v_dummy
        FROM JRGY_RESERVA
        WHERE COD_HABITACION = :NEW.COD_HABITACION
          AND (:NEW.FECHA_INICIO <= FECHA_FIN AND :NEW.FECHA_FIN >= FECHA_INICIO)
          AND (v_current_id IS NULL OR COD_RESERVA <> v_current_id)
        FOR UPDATE NOWAIT;

        RAISE_APPLICATION_ERROR(-20061, 'La habitacion ya esta reservada en ese rango de fechas');
    EXCEPTION
        WHEN NO_DATA_FOUND THEN
            NULL;
        WHEN OTHERS THEN
            IF SQLCODE = -54 THEN
                RAISE_APPLICATION_ERROR(-20062, 'Reserva en curso para esta habitacion, intenta de nuevo');
            ELSE
                RAISE;
            END IF;
    END;
END;
/
ALTER TRIGGER "UCM"."TRG_RESERVA_NO_OVERLAP" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_VALIDA_STOCK_VENTA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_VALIDA_STOCK_VENTA" 
    BEFORE INSERT OR UPDATE ON JRGY_DETALLE_VENTA
    FOR EACH ROW
DECLARE
    V_STOCK NUMBER;
BEGIN
    SELECT NVL(STOCK_PRODUCTO,0) INTO V_STOCK FROM JRGY_PRODUCTO WHERE COD_PRODUCTO = :NEW.COD_PRODUCTO;
    IF :NEW.CANTIDAD > V_STOCK THEN
        RAISE_APPLICATION_ERROR(-20050, 'STOCK INSUFICIENTE PARA PRODUCTO ' || :NEW.COD_PRODUCTO);
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_VALIDA_STOCK_VENTA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_CLIENTE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_CLIENTE" BEFORE INSERT ON JRGY_CLIENTE FOR EACH ROW
BEGIN IF :NEW.COD_CLIENTE IS NULL THEN :NEW.COD_CLIENTE := SQ_PK_CLIENTE.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_CLIENTE" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_HAB_OCUPADA_ON_DETALLE
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_HAB_OCUPADA_ON_DETALLE" 
    AFTER INSERT ON JRGY_DETALLE_PAGO_HABITACION
    FOR EACH ROW
BEGIN
    UPDATE JRGY_HABITACION
    SET COD_ESTADO_HABITACION = (
        SELECT COD_ESTADO_HABITACION
        FROM JRGY_CAT_ESTADO_HABITACION
        WHERE UPPER(ESTADO_HABITACION) = 'OCUPADA'
    )
    WHERE COD_HABITACION = :NEW.COD_HABITACION;
END;
/
ALTER TRIGGER "UCM"."TRG_HAB_OCUPADA_ON_DETALLE" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_HAB_LIBRE_ON_DETALLE_DEL
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_HAB_LIBRE_ON_DETALLE_DEL" 
    AFTER DELETE ON JRGY_DETALLE_PAGO_HABITACION
    FOR EACH ROW
BEGIN
    UPDATE JRGY_HABITACION
    SET COD_ESTADO_HABITACION = (
        SELECT COD_ESTADO_HABITACION
        FROM JRGY_CAT_ESTADO_HABITACION
        WHERE UPPER(ESTADO_HABITACION) = 'LIBRE'
    )
    WHERE COD_HABITACION = :OLD.COD_HABITACION;
END;
/
ALTER TRIGGER "UCM"."TRG_HAB_LIBRE_ON_DETALLE_DEL" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_VALIDA_STOCK_VENTA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_VALIDA_STOCK_VENTA" 
    BEFORE INSERT OR UPDATE ON JRGY_DETALLE_VENTA
    FOR EACH ROW
DECLARE
    V_STOCK NUMBER;
BEGIN
    SELECT NVL(STOCK_PRODUCTO,0) INTO V_STOCK FROM JRGY_PRODUCTO WHERE COD_PRODUCTO = :NEW.COD_PRODUCTO;
    IF :NEW.CANTIDAD > V_STOCK THEN
        RAISE_APPLICATION_ERROR(-20050, 'STOCK INSUFICIENTE PARA PRODUCTO ' || :NEW.COD_PRODUCTO);
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_VALIDA_STOCK_VENTA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_EMPLEADO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_EMPLEADO" BEFORE INSERT ON JRGY_EMPLEADO FOR EACH ROW
BEGIN IF :NEW.COD_EMPLEADO IS NULL THEN :NEW.COD_EMPLEADO := SQ_PK_EMPLEADO.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_EMPLEADO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_MISMA_PK_EMPLEADO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_MISMA_PK_EMPLEADO" BEFORE INSERT ON JRGY_EMPLEADO FOR EACH ROW
DECLARE V_COUNT NUMBER;
BEGIN
    SELECT COUNT(*) INTO V_COUNT FROM JRGY_EMPLEADO WHERE COD_EMPLEADO = :NEW.COD_EMPLEADO;
    IF V_COUNT > 0 THEN RAISE_APPLICATION_ERROR(-2002, 'YA EXISTE EL EMPLEADO'); END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_MISMA_PK_EMPLEADO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_EVENTO_RESERVA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_EVENTO_RESERVA" BEFORE INSERT ON JRGY_EVENTO_RESERVA FOR EACH ROW
BEGIN IF :NEW.COD_EVENTO_RESERVA IS NULL THEN :NEW.COD_EVENTO_RESERVA := SQ_PK_EVENTO_RESERVA.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_EVENTO_RESERVA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_EXPERIENCIA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_EXPERIENCIA" BEFORE INSERT ON JRGY_EXPERIENCIA FOR EACH ROW
BEGIN
    IF :NEW.COD_EXPERIENCIA IS NULL THEN
        :NEW.COD_EXPERIENCIA := SQ_PK_EXPERIENCIA.NEXTVAL;
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_PK_EXPERIENCIA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_HABITACION
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_HABITACION" BEFORE INSERT ON JRGY_HABITACION FOR EACH ROW
BEGIN IF :NEW.COD_HABITACION IS NULL THEN :NEW.COD_HABITACION := SQ_PK_HABITACION.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_HABITACION" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_MOVIMIENTO_STOCK
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_MOVIMIENTO_STOCK" BEFORE INSERT ON JRGY_MOVIMIENTO_STOCK FOR EACH ROW
BEGIN IF :NEW.COD_MOVIMIENTO IS NULL THEN :NEW.COD_MOVIMIENTO := SQ_PK_MOVIMIENTO_STOCK.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_MOVIMIENTO_STOCK" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_PAGO_HAB
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_PAGO_HAB" BEFORE INSERT ON JRGY_PAGO_HABITACION FOR EACH ROW
BEGIN IF :NEW.COD_PAGO_HABITACION IS NULL THEN :NEW.COD_PAGO_HABITACION := SQ_PK_PAGO_HAB.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_PAGO_HAB" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_PAGO_VENTA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_PAGO_VENTA" BEFORE INSERT ON JRGY_PAGO_VENTA FOR EACH ROW
BEGIN IF :NEW.COD_PAGO IS NULL THEN :NEW.COD_PAGO := SQ_PK_PAGO_VENTA.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_PAGO_VENTA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_PEDIDO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_PEDIDO" BEFORE INSERT ON JRGY_PEDIDO FOR EACH ROW
BEGIN
    IF :NEW.COD_PEDIDO IS NULL THEN
        :NEW.COD_PEDIDO := SQ_PK_PEDIDO.NEXTVAL;
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_PK_PEDIDO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_PRODUCTO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_PRODUCTO" BEFORE INSERT ON JRGY_PRODUCTO FOR EACH ROW
BEGIN IF :NEW.COD_PRODUCTO IS NULL THEN :NEW.COD_PRODUCTO := SQ_PK_PRODUCTO.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_PRODUCTO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_MISMA_PK_PRODUCTO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_MISMA_PK_PRODUCTO" BEFORE INSERT ON JRGY_PRODUCTO FOR EACH ROW
DECLARE V_COUNT NUMBER;
BEGIN
    SELECT COUNT(*) INTO V_COUNT FROM JRGY_PRODUCTO WHERE COD_PRODUCTO = :NEW.COD_PRODUCTO;
    IF V_COUNT > 0 THEN RAISE_APPLICATION_ERROR(-2003, 'YA EXISTE EL PRODUCTO'); END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_MISMA_PK_PRODUCTO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_RESERVA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_RESERVA" BEFORE INSERT ON JRGY_RESERVA FOR EACH ROW
BEGIN IF :NEW.COD_RESERVA IS NULL THEN :NEW.COD_RESERVA := SQ_PK_RESERVA.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_RESERVA" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_RESERVA_NO_OVERLAP
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_RESERVA_NO_OVERLAP" 
    BEFORE INSERT OR UPDATE ON JRGY_RESERVA
    FOR EACH ROW
DECLARE
    v_current_id NUMBER := NVL(:NEW.COD_RESERVA, :OLD.COD_RESERVA);
    v_dummy NUMBER;
BEGIN
    -- Validacion de fechas
    IF :NEW.FECHA_FIN < :NEW.FECHA_INICIO THEN
        RAISE_APPLICATION_ERROR(-20060, 'La fecha fin debe ser mayor o igual a la de inicio');
    END IF;

    -- Evita solapes de reservas en la misma habitacion
    BEGIN
        SELECT 1
        INTO v_dummy
        FROM JRGY_RESERVA
        WHERE COD_HABITACION = :NEW.COD_HABITACION
          AND (:NEW.FECHA_INICIO <= FECHA_FIN AND :NEW.FECHA_FIN >= FECHA_INICIO)
          AND (v_current_id IS NULL OR COD_RESERVA <> v_current_id)
        FOR UPDATE NOWAIT;

        RAISE_APPLICATION_ERROR(-20061, 'La habitacion ya esta reservada en ese rango de fechas');
    EXCEPTION
        WHEN NO_DATA_FOUND THEN
            NULL;
        WHEN OTHERS THEN
            IF SQLCODE = -54 THEN
                RAISE_APPLICATION_ERROR(-20062, 'Reserva en curso para esta habitacion, intenta de nuevo');
            ELSE
                RAISE;
            END IF;
    END;
END;
/
ALTER TRIGGER "UCM"."TRG_RESERVA_NO_OVERLAP" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_RESERVA_EXP
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_RESERVA_EXP" BEFORE INSERT ON JRGY_RESERVA_EXP FOR EACH ROW
BEGIN
    IF :NEW.COD_RESERVA_EXP IS NULL THEN
        :NEW.COD_RESERVA_EXP := SQ_PK_RESERVA_EXP.NEXTVAL;
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_PK_RESERVA_EXP" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_ROL
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_ROL" BEFORE INSERT ON JRGY_ROL FOR EACH ROW
BEGIN IF :NEW.COD_ROL IS NULL THEN :NEW.COD_ROL := SQ_PK_ROL.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_ROL" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_SOLICITUD_ADMIN
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_SOLICITUD_ADMIN" BEFORE INSERT ON JRGY_SOLICITUD_ADMIN FOR EACH ROW
BEGIN IF :NEW.COD_SOLICITUD IS NULL THEN :NEW.COD_SOLICITUD := SQ_PK_SOLICITUD_ADMIN.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_SOLICITUD_ADMIN" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_USUARIO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_USUARIO" BEFORE INSERT ON JRGY_USUARIO FOR EACH ROW
BEGIN
    IF :NEW.COD_USUARIO IS NULL THEN
        SELECT SQ_PK_USUARIO.NEXTVAL INTO :NEW.COD_USUARIO FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_PK_USUARIO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_MISMA_PK_USUARIO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_MISMA_PK_USUARIO" BEFORE INSERT ON JRGY_USUARIO FOR EACH ROW
DECLARE V_COUNT NUMBER;
BEGIN
    SELECT COUNT(*) INTO V_COUNT FROM JRGY_USUARIO WHERE COD_USUARIO = :NEW.COD_USUARIO;
    IF V_COUNT > 0 THEN RAISE_APPLICATION_ERROR(-2001, 'YA EXISTE EL USUARIO'); END IF;
END;
/
ALTER TRIGGER "UCM"."TRG_MISMA_PK_USUARIO" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_PK_VENTA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "UCM"."TRG_PK_VENTA" BEFORE INSERT ON JRGY_VENTA FOR EACH ROW
BEGIN IF :NEW.COD_VENTA IS NULL THEN :NEW.COD_VENTA := SQ_PK_VENTA.NEXTVAL; END IF; END;
/
ALTER TRIGGER "UCM"."TRG_PK_VENTA" ENABLE;
--------------------------------------------------------
--  DDL for Procedure CRUD_CALLE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_CALLE" (
    OPCION_P IN VARCHAR2,
    COD_CALLE_P IN NUMBER,
    CALLE_P IN VARCHAR2,
    NRO_P IN NUMBER,
    COD_COMUNA_P IN NUMBER,
    CUR_CALLE OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_CALLE (COD_CALLE, CALLE, NRO, COD_COMUNA) VALUES (COD_CALLE_P, CALLE_P, NRO_P, COD_COMUNA_P);
        WHEN 'R' THEN
            OPEN CUR_CALLE FOR
                SELECT COD_CALLE, CALLE, NRO, COD_COMUNA FROM JRGY_CALLE WHERE COD_CALLE = COD_CALLE_P;
        WHEN 'U' THEN
            UPDATE JRGY_CALLE
            SET CALLE = CALLE_P,
                NRO = NRO_P,
                COD_COMUNA = COD_COMUNA_P
            WHERE COD_CALLE = COD_CALLE_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20025, 'CALLE NO ENCONTRADA');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_CALLE WHERE COD_CALLE = COD_CALLE_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20025, 'CALLE NO ENCONTRADA');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_CIUDAD
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_CIUDAD" (
    OPCION_P IN VARCHAR2,
    COD_CIUDAD_P IN NUMBER,
    CIUDAD_P IN VARCHAR2,
    COD_REGION_P IN NUMBER,
    CUR_CIUDAD OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_CIUDAD (COD_CIUDAD, CIUDAD, COD_REGION) VALUES (COD_CIUDAD_P, CIUDAD_P, COD_REGION_P);
        WHEN 'R' THEN
            OPEN CUR_CIUDAD FOR
                SELECT COD_CIUDAD, CIUDAD, COD_REGION FROM JRGY_CIUDAD WHERE COD_CIUDAD = COD_CIUDAD_P;
        WHEN 'U' THEN
            UPDATE JRGY_CIUDAD
            SET CIUDAD = CIUDAD_P,
                COD_REGION = COD_REGION_P
            WHERE COD_CIUDAD = COD_CIUDAD_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20023, 'CIUDAD NO ENCONTRADA');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_CIUDAD WHERE COD_CIUDAD = COD_CIUDAD_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20023, 'CIUDAD NO ENCONTRADA');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_COMUNA
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_COMUNA" (
    OPCION_P IN VARCHAR2,
    COD_COMUNA_P IN NUMBER,
    COMUNA_P IN VARCHAR2,
    COD_CIUDAD_P IN NUMBER,
    CUR_COMUNA OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_COMUNA (COD_COMUNA, COMUNA, COD_CIUDAD) VALUES (COD_COMUNA_P, COMUNA_P, COD_CIUDAD_P);
        WHEN 'R' THEN
            OPEN CUR_COMUNA FOR
                SELECT COD_COMUNA, COMUNA, COD_CIUDAD FROM JRGY_COMUNA WHERE COD_COMUNA = COD_COMUNA_P;
        WHEN 'U' THEN
            UPDATE JRGY_COMUNA
            SET COMUNA = COMUNA_P,
                COD_CIUDAD = COD_CIUDAD_P
            WHERE COD_COMUNA = COD_COMUNA_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20024, 'COMUNA NO ENCONTRADA');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_COMUNA WHERE COD_COMUNA = COD_COMUNA_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20024, 'COMUNA NO ENCONTRADA');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_DETALLE_PAGO_HABITACION
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_DETALLE_PAGO_HABITACION" (
    OPCION_P IN VARCHAR2,
    COD_PAGO_P IN NUMBER,
    COD_HABITACION_P IN NUMBER,
    FECHA_ESTADIA_P IN DATE,
    PRECIO_HABITACION_P IN NUMBER,
    DIAS_P IN NUMBER,
    CUR_DET_PAGO OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_DETALLE_PAGO_HABITACION (COD_PAGO_HABITACION, COD_HABITACION, FECHA_ESTADIA, PRECIO_HABITACION, DIAS)
            VALUES (COD_PAGO_P, COD_HABITACION_P, FECHA_ESTADIA_P, PRECIO_HABITACION_P, DIAS_P);
        WHEN 'R' THEN
            OPEN CUR_DET_PAGO FOR
                SELECT COD_PAGO_HABITACION, COD_HABITACION, FECHA_ESTADIA, PRECIO_HABITACION, DIAS
                FROM JRGY_DETALLE_PAGO_HABITACION
                WHERE COD_PAGO_HABITACION = COD_PAGO_P AND COD_HABITACION = COD_HABITACION_P;
        WHEN 'U' THEN
            UPDATE JRGY_DETALLE_PAGO_HABITACION
            SET FECHA_ESTADIA = FECHA_ESTADIA_P,
                PRECIO_HABITACION = PRECIO_HABITACION_P,
                DIAS = DIAS_P
            WHERE COD_PAGO_HABITACION = COD_PAGO_P AND COD_HABITACION = COD_HABITACION_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20029, 'DETALLE PAGO HAB NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_DETALLE_PAGO_HABITACION
            WHERE COD_PAGO_HABITACION = COD_PAGO_P AND COD_HABITACION = COD_HABITACION_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20029, 'DETALLE PAGO HAB NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_DETALLE_PEDIDO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_DETALLE_PEDIDO" (
    OPCION_P IN VARCHAR2,
    COD_PEDIDO_P IN NUMBER,
    COD_PROVEEDOR_P IN NUMBER,
    COD_PRODUCTO_P IN NUMBER,
    NOMBRE_PRODUCTO_P IN VARCHAR2,
    CANTIDAD_PRODUCTO_P IN NUMBER,
    PRECIO_COMPRA_P IN NUMBER,
    PRECIO_TOTAL_P IN NUMBER,
    CUR_DET_PEDIDO OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_DETALLE_PEDIDO (COD_PEDIDO, COD_PROVEEDOR, COD_PRODUCTO, NOMBRE_PRODUCTO, CANTIDAD_PRODUCTO, PRECIO_COMPRA, PRECIO_TOTAL)
            VALUES (COD_PEDIDO_P, COD_PROVEEDOR_P, COD_PRODUCTO_P, NOMBRE_PRODUCTO_P, CANTIDAD_PRODUCTO_P, PRECIO_COMPRA_P, PRECIO_TOTAL_P);
        WHEN 'R' THEN
            OPEN CUR_DET_PEDIDO FOR
                SELECT COD_PEDIDO, COD_PROVEEDOR, COD_PRODUCTO, NOMBRE_PRODUCTO, CANTIDAD_PRODUCTO, PRECIO_COMPRA, PRECIO_TOTAL
                FROM JRGY_DETALLE_PEDIDO
                WHERE COD_PEDIDO = COD_PEDIDO_P AND COD_PROVEEDOR = COD_PROVEEDOR_P AND COD_PRODUCTO = COD_PRODUCTO_P;
        WHEN 'U' THEN
            UPDATE JRGY_DETALLE_PEDIDO
            SET COD_PRODUCTO      = COD_PRODUCTO_P,
                NOMBRE_PRODUCTO   = NOMBRE_PRODUCTO_P,
                CANTIDAD_PRODUCTO = CANTIDAD_PRODUCTO_P,
                PRECIO_COMPRA     = PRECIO_COMPRA_P,
                PRECIO_TOTAL      = PRECIO_TOTAL_P
            WHERE COD_PEDIDO = COD_PEDIDO_P AND COD_PROVEEDOR = COD_PROVEEDOR_P AND COD_PRODUCTO = COD_PRODUCTO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20031, 'DETALLE PEDIDO NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_DETALLE_PEDIDO WHERE COD_PEDIDO = COD_PEDIDO_P AND COD_PROVEEDOR = COD_PROVEEDOR_P AND COD_PRODUCTO = COD_PRODUCTO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20031, 'DETALLE PEDIDO NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_DETALLE_VENTA
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_DETALLE_VENTA" (
    OPCION_P IN VARCHAR2,
    COD_VENTA_P IN NUMBER,
    COD_PRODUCTO_P IN NUMBER,
    CANTIDAD_P IN NUMBER,
    PRECIO_PRODUCTO_P IN NUMBER,
    PRECIO_TOTAL_P IN NUMBER,
    CUR_DET_VENTA OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_DETALLE_VENTA (COD_VENTA, COD_PRODUCTO, CANTIDAD, PRECIO_PRODUCTO, PRECIO_TOTAL)
            VALUES (COD_VENTA_P, COD_PRODUCTO_P, CANTIDAD_P, PRECIO_PRODUCTO_P, PRECIO_TOTAL_P);
        WHEN 'R' THEN
            OPEN CUR_DET_VENTA FOR
                SELECT COD_VENTA, COD_PRODUCTO, CANTIDAD, PRECIO_PRODUCTO, PRECIO_TOTAL
                FROM JRGY_DETALLE_VENTA
                WHERE COD_VENTA = COD_VENTA_P AND COD_PRODUCTO = COD_PRODUCTO_P;
        WHEN 'U' THEN
            UPDATE JRGY_DETALLE_VENTA
            SET CANTIDAD = CANTIDAD_P,
                PRECIO_PRODUCTO = PRECIO_PRODUCTO_P,
                PRECIO_TOTAL = PRECIO_TOTAL_P
            WHERE COD_VENTA = COD_VENTA_P AND COD_PRODUCTO = COD_PRODUCTO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20033, 'DETALLE VENTA NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_DETALLE_VENTA WHERE COD_VENTA = COD_VENTA_P AND COD_PRODUCTO = COD_PRODUCTO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20033, 'DETALLE VENTA NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_EMPLEADO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_EMPLEADO" (
    OPCION_P IN VARCHAR2,
    COD_EMPLEADO_P IN NUMBER,
    CARGO_EMPLEADO_P IN VARCHAR2,
    FECHA_CONTRATACION_P IN DATE,
    SALARIO_P IN NUMBER,
    COMISION_P IN NUMBER,
    COD_USUARIO_P IN NUMBER,
    NOMBRE_USUARIO_P IN VARCHAR2,
    APELLIDO1_USUARIO_P IN VARCHAR2,
    APELLIDO2_USUARIO_P IN VARCHAR2,
    EMAIL_USUARIO_P IN VARCHAR2,
    TELEFONO_USUARIO_P IN NUMBER,
    CONTRASENA_HASH_P IN VARCHAR2,
    COD_ESTADO_USUARIO_P IN NUMBER,
    COD_DEPARTAMENTO_P IN NUMBER,
    COD_ESTADO_LABORAL_P IN NUMBER,
    CUR_EMPLEADO OUT SYS_REFCURSOR
)
IS
    V_COD_USUARIO NUMBER := COD_USUARIO_P;
    CUR_USUARIO SYS_REFCURSOR;
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            IF V_COD_USUARIO IS NULL THEN
                SELECT SQ_PK_USUARIO.NEXTVAL INTO V_COD_USUARIO FROM DUAL;
            END IF;

            CRUD_USUARIO(
                'C',
                V_COD_USUARIO,
                NOMBRE_USUARIO_P,
                APELLIDO1_USUARIO_P,
                APELLIDO2_USUARIO_P,
                EMAIL_USUARIO_P,
                TELEFONO_USUARIO_P,
                CONTRASENA_HASH_P,
                COD_ESTADO_USUARIO_P,
                CUR_USUARIO
            );

            INSERT INTO JRGY_EMPLEADO(COD_EMPLEADO, COD_USUARIO, COD_DEPARTAMENTO, CARGO, FECHA_CONTRATACION, SALARIO, COMISION, COD_ESTADO_LABORAL)
            VALUES (COD_EMPLEADO_P, V_COD_USUARIO, COD_DEPARTAMENTO_P, CARGO_EMPLEADO_P, FECHA_CONTRATACION_P, SALARIO_P, COMISION_P, COD_ESTADO_LABORAL_P);

        WHEN 'R' THEN
            OPEN CUR_EMPLEADO FOR
                SELECT E.COD_EMPLEADO,
                       E.CARGO,
                       E.FECHA_CONTRATACION,
                       E.SALARIO,
                       E.COMISION,
                       U.COD_USUARIO,
                       U.NOMBRE_USUARIO,
                       U.APELLIDO1_USUARIO,
                       U.APELLIDO2_USUARIO,
                       U.EMAIL_USUARIO,
                       U.TELEFONO_USUARIO
                FROM JRGY_EMPLEADO E
                JOIN JRGY_USUARIO U ON U.COD_USUARIO = E.COD_USUARIO
                WHERE E.COD_EMPLEADO = COD_EMPLEADO_P;

        WHEN 'U' THEN
            CRUD_USUARIO(
                'U',
                V_COD_USUARIO,
                NOMBRE_USUARIO_P,
                APELLIDO1_USUARIO_P,
                APELLIDO2_USUARIO_P,
                EMAIL_USUARIO_P,
                TELEFONO_USUARIO_P,
                CONTRASENA_HASH_P,
                COD_ESTADO_USUARIO_P,
                CUR_USUARIO
            );

            UPDATE JRGY_EMPLEADO
            SET CARGO             = CARGO_EMPLEADO_P,
                FECHA_CONTRATACION = FECHA_CONTRATACION_P,
                SALARIO            = SALARIO_P,
                COMISION           = COMISION_P,
                COD_DEPARTAMENTO   = COD_DEPARTAMENTO_P,
                COD_ESTADO_LABORAL = COD_ESTADO_LABORAL_P
            WHERE COD_EMPLEADO = COD_EMPLEADO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-342, 'NO SE ENCONTRO EL EMPLEADO');
            END IF;

        WHEN 'D' THEN
            DELETE FROM JRGY_EMPLEADO WHERE COD_EMPLEADO = COD_EMPLEADO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-342, 'NO SE ENCONTRO EL EMPLEADO');
            END IF;

            CRUD_USUARIO(
                'D',
                V_COD_USUARIO,
                NULL,
                NULL,
                NULL,
                NULL,
                NULL,
                NULL,
                NULL,
                CUR_USUARIO
            );

        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_HABITACION
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_HABITACION" (
    OPCION_P IN VARCHAR2,
    COD_HABITACION_P IN NUMBER,
    NRO_HABITACION_P IN NUMBER,
    CAPACIDAD_P IN NUMBER,
    COD_TIPO_HABITACION_P IN NUMBER,
    COD_ESTADO_HABITACION_P IN NUMBER,
    PRECIO_BASE_P IN NUMBER,
    CUR_HABITACION OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_HABITACION (COD_HABITACION, NRO_HABITACION, CAPACIDAD, COD_TIPO_HABITACION, COD_ESTADO_HABITACION, PRECIO_BASE)
            VALUES (COD_HABITACION_P, NRO_HABITACION_P, CAPACIDAD_P, COD_TIPO_HABITACION_P, COD_ESTADO_HABITACION_P, PRECIO_BASE_P);
        WHEN 'R' THEN
            OPEN CUR_HABITACION FOR
                SELECT COD_HABITACION, NRO_HABITACION, CAPACIDAD, COD_TIPO_HABITACION, COD_ESTADO_HABITACION, PRECIO_BASE
                FROM JRGY_HABITACION
                WHERE COD_HABITACION = COD_HABITACION_P;
        WHEN 'U' THEN
            UPDATE JRGY_HABITACION
            SET NRO_HABITACION      = NRO_HABITACION_P,
                CAPACIDAD           = CAPACIDAD_P,
                COD_TIPO_HABITACION = COD_TIPO_HABITACION_P,
                COD_ESTADO_HABITACION = COD_ESTADO_HABITACION_P,
                PRECIO_BASE         = PRECIO_BASE_P
            WHERE COD_HABITACION = COD_HABITACION_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20027, 'HABITACION NO ENCONTRADA');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_HABITACION WHERE COD_HABITACION = COD_HABITACION_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20027, 'HABITACION NO ENCONTRADA');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_MOVIMIENTO_STOCK
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_MOVIMIENTO_STOCK" (
    OPCION_P IN VARCHAR2,
    COD_MOVIMIENTO_P IN NUMBER,
    COD_PRODUCTO_P IN NUMBER,
    TIPO_MOVIMIENTO_P IN VARCHAR2,
    CANTIDAD_P IN NUMBER,
    FECHA_MOVIMIENTO_P IN DATE,
    MOTIVO_P IN VARCHAR2,
    CUR_MOV OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_MOVIMIENTO_STOCK (COD_MOVIMIENTO, COD_PRODUCTO, TIPO_MOVIMIENTO, CANTIDAD, FECHA_MOVIMIENTO, MOTIVO)
            VALUES (COD_MOVIMIENTO_P, COD_PRODUCTO_P, TIPO_MOVIMIENTO_P, CANTIDAD_P, FECHA_MOVIMIENTO_P, MOTIVO_P);
        WHEN 'R' THEN
            OPEN CUR_MOV FOR
                SELECT COD_MOVIMIENTO, COD_PRODUCTO, TIPO_MOVIMIENTO, CANTIDAD, FECHA_MOVIMIENTO, MOTIVO
                FROM JRGY_MOVIMIENTO_STOCK
                WHERE COD_MOVIMIENTO = COD_MOVIMIENTO_P;
        WHEN 'U' THEN
            UPDATE JRGY_MOVIMIENTO_STOCK
            SET COD_PRODUCTO = COD_PRODUCTO_P,
                TIPO_MOVIMIENTO = TIPO_MOVIMIENTO_P,
                CANTIDAD = CANTIDAD_P,
                FECHA_MOVIMIENTO = FECHA_MOVIMIENTO_P,
                MOTIVO = MOTIVO_P
            WHERE COD_MOVIMIENTO = COD_MOVIMIENTO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20034, 'MOVIMIENTO NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_MOVIMIENTO_STOCK WHERE COD_MOVIMIENTO = COD_MOVIMIENTO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20034, 'MOVIMIENTO NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_PAGO_HABITACION
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_PAGO_HABITACION" (
    OPCION_P IN VARCHAR2,
    COD_PAGO_P IN NUMBER,
    FECHA_PAGO_P IN DATE,
    VALOR_TOTAL_P IN NUMBER,
    COD_USUARIO_P IN NUMBER,
    CUR_PAGO OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_PAGO_HABITACION (COD_PAGO_HABITACION, FECHA_PAGO, VALOR_TOTAL_PAGO, COD_USUARIO)
            VALUES (COD_PAGO_P, FECHA_PAGO_P, VALOR_TOTAL_P, COD_USUARIO_P);
        WHEN 'R' THEN
            OPEN CUR_PAGO FOR
                SELECT COD_PAGO_HABITACION, FECHA_PAGO, VALOR_TOTAL_PAGO, COD_USUARIO
                FROM JRGY_PAGO_HABITACION
                WHERE COD_PAGO_HABITACION = COD_PAGO_P;
        WHEN 'U' THEN
            UPDATE JRGY_PAGO_HABITACION
            SET FECHA_PAGO = FECHA_PAGO_P,
                VALOR_TOTAL_PAGO = VALOR_TOTAL_P,
                COD_USUARIO = COD_USUARIO_P
            WHERE COD_PAGO_HABITACION = COD_PAGO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20028, 'PAGO HABITACION NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_PAGO_HABITACION WHERE COD_PAGO_HABITACION = COD_PAGO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20028, 'PAGO HABITACION NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_PAGO_VENTA
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_PAGO_VENTA" (
    OPCION_P IN VARCHAR2,
    COD_PAGO_P IN NUMBER,
    COD_VENTA_P IN NUMBER,
    COD_MODO_PAGO_P IN NUMBER,
    MONTO_P IN NUMBER,
    FECHA_PAGO_P IN DATE,
    CUR_PAGO_VENTA OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_PAGO_VENTA (COD_PAGO, COD_VENTA, COD_MODO_PAGO, MONTO, FECHA_PAGO)
            VALUES (COD_PAGO_P, COD_VENTA_P, COD_MODO_PAGO_P, MONTO_P, FECHA_PAGO_P);
        WHEN 'R' THEN
            OPEN CUR_PAGO_VENTA FOR
                SELECT COD_PAGO, COD_VENTA, COD_MODO_PAGO, MONTO, FECHA_PAGO
                FROM JRGY_PAGO_VENTA
                WHERE COD_PAGO = COD_PAGO_P;
        WHEN 'U' THEN
            UPDATE JRGY_PAGO_VENTA
            SET COD_VENTA = COD_VENTA_P,
                COD_MODO_PAGO = COD_MODO_PAGO_P,
                MONTO = MONTO_P,
                FECHA_PAGO = FECHA_PAGO_P
            WHERE COD_PAGO = COD_PAGO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20035, 'PAGO VENTA NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_PAGO_VENTA WHERE COD_PAGO = COD_PAGO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20035, 'PAGO VENTA NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_PEDIDO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_PEDIDO" (
    OPCION_P IN VARCHAR2,
    COD_PEDIDO_P IN NUMBER,
    VALOR_TOTAL_P IN NUMBER,
    FECHA_PEDIDO_P IN DATE,
    COD_EMPLEADO_P IN NUMBER,
    CUR_PEDIDO OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_PEDIDO (COD_PEDIDO, VALOR_TOTAL, FECHA_PEDIDO, COD_EMPLEADO)
            VALUES (COD_PEDIDO_P, VALOR_TOTAL_P, FECHA_PEDIDO_P, COD_EMPLEADO_P);
        WHEN 'R' THEN
            OPEN CUR_PEDIDO FOR
                SELECT COD_PEDIDO, VALOR_TOTAL, FECHA_PEDIDO, COD_EMPLEADO
                FROM JRGY_PEDIDO
                WHERE COD_PEDIDO = COD_PEDIDO_P;
        WHEN 'U' THEN
            UPDATE JRGY_PEDIDO
            SET VALOR_TOTAL = VALOR_TOTAL_P,
                FECHA_PEDIDO = FECHA_PEDIDO_P,
                COD_EMPLEADO = COD_EMPLEADO_P
            WHERE COD_PEDIDO = COD_PEDIDO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20030, 'PEDIDO NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_PEDIDO WHERE COD_PEDIDO = COD_PEDIDO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20030, 'PEDIDO NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_PRODUCTO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_PRODUCTO" (
    OPCION_P IN VARCHAR2,
    COD_PRODUCTO_P IN NUMBER,
    NOMBRE_PRODUCTO_P IN VARCHAR2,
    TIPO_PRODUCTO_P IN VARCHAR2,
    PRECIO_PRODUCTO_P IN NUMBER,
    CANTIDAD_PRODUCTO_P IN NUMBER,
    STOCK_PRODUCTO_P IN NUMBER,
    CUR_PRODUCTO OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_PRODUCTO(COD_PRODUCTO, NOMBRE_PRODUCTO, TIPO_PRODUCTO, PRECIO_PRODUCTO, CANTIDAD_PRODUCTO, STOCK_PRODUCTO)
            VALUES (COD_PRODUCTO_P, NOMBRE_PRODUCTO_P, TIPO_PRODUCTO_P, PRECIO_PRODUCTO_P, CANTIDAD_PRODUCTO_P, STOCK_PRODUCTO_P);

        WHEN 'R' THEN
            OPEN CUR_PRODUCTO FOR
                SELECT COD_PRODUCTO, NOMBRE_PRODUCTO, TIPO_PRODUCTO, PRECIO_PRODUCTO, CANTIDAD_PRODUCTO, STOCK_PRODUCTO
                FROM JRGY_PRODUCTO
                WHERE COD_PRODUCTO = COD_PRODUCTO_P;

        WHEN 'U' THEN
            UPDATE JRGY_PRODUCTO
            SET NOMBRE_PRODUCTO   = NOMBRE_PRODUCTO_P,
                TIPO_PRODUCTO     = TIPO_PRODUCTO_P,
                PRECIO_PRODUCTO   = PRECIO_PRODUCTO_P,
                CANTIDAD_PRODUCTO = CANTIDAD_PRODUCTO_P,
                STOCK_PRODUCTO    = STOCK_PRODUCTO_P
            WHERE COD_PRODUCTO = COD_PRODUCTO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-343, 'NO SE ENCONTRO EL PRODUCTO');
            END IF;

        WHEN 'D' THEN
            DELETE FROM JRGY_PRODUCTO WHERE COD_PRODUCTO = COD_PRODUCTO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-343, 'NO SE ENCONTRO EL PRODUCTO');
            END IF;

        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_PROVEEDOR
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_PROVEEDOR" (
    OPCION_P IN VARCHAR2,
    COD_PROVEEDOR_P IN NUMBER,
    NOMBRE_PROVEEDOR_P IN VARCHAR2,
    DIRECCION_PROVEEDOR_P IN VARCHAR2,
    TELEFONO_PROVEEDOR_P IN NUMBER,
    COD_REGION_P IN NUMBER,
    CUR_PROVEEDOR OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_PROVEEDOR (COD_PROVEEDOR, NOMBRE_PROVEEDOR, DIRECCION_PROVEEDOR, TELEFONO_PROVEEDOR, COD_REGION)
            VALUES (COD_PROVEEDOR_P, NOMBRE_PROVEEDOR_P, DIRECCION_PROVEEDOR_P, TELEFONO_PROVEEDOR_P, COD_REGION_P);
        WHEN 'R' THEN
            OPEN CUR_PROVEEDOR FOR
                SELECT COD_PROVEEDOR, NOMBRE_PROVEEDOR, DIRECCION_PROVEEDOR, TELEFONO_PROVEEDOR, COD_REGION
                FROM JRGY_PROVEEDOR
                WHERE COD_PROVEEDOR = COD_PROVEEDOR_P;
        WHEN 'U' THEN
            UPDATE JRGY_PROVEEDOR
            SET NOMBRE_PROVEEDOR   = NOMBRE_PROVEEDOR_P,
                DIRECCION_PROVEEDOR = DIRECCION_PROVEEDOR_P,
                TELEFONO_PROVEEDOR  = TELEFONO_PROVEEDOR_P,
                COD_REGION          = COD_REGION_P
            WHERE COD_PROVEEDOR = COD_PROVEEDOR_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20026, 'PROVEEDOR NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_PROVEEDOR WHERE COD_PROVEEDOR = COD_PROVEEDOR_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20026, 'PROVEEDOR NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_REGION
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_REGION" (
    OPCION_P IN VARCHAR2,
    COD_REGION_P IN NUMBER,
    REGION_P IN VARCHAR2,
    CUR_REGION OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_REGION (COD_REGION, REGION) VALUES (COD_REGION_P, REGION_P);
        WHEN 'R' THEN
            OPEN CUR_REGION FOR
                SELECT COD_REGION, REGION FROM JRGY_REGION WHERE COD_REGION = COD_REGION_P;
        WHEN 'U' THEN
            UPDATE JRGY_REGION SET REGION = REGION_P WHERE COD_REGION = COD_REGION_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20022, 'REGION NO ENCONTRADA');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_REGION WHERE COD_REGION = COD_REGION_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20022, 'REGION NO ENCONTRADA');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_ROL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_ROL" (
    OPCION_P IN VARCHAR2,
    COD_ROL_P IN NUMBER,
    NOMBRE_ROL_P IN VARCHAR2,
    CUR_ROL OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_ROL (COD_ROL, NOMBRE_ROL)
            VALUES (COD_ROL_P, NOMBRE_ROL_P);
        WHEN 'R' THEN
            OPEN CUR_ROL FOR
                SELECT COD_ROL, NOMBRE_ROL
                FROM JRGY_ROL
                WHERE COD_ROL = COD_ROL_P;
        WHEN 'U' THEN
            UPDATE JRGY_ROL
            SET NOMBRE_ROL = NOMBRE_ROL_P
            WHERE COD_ROL = COD_ROL_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20020, 'ROL NO ENCONTRADO');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_ROL WHERE COD_ROL = COD_ROL_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20020, 'ROL NO ENCONTRADO');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_USUARIO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_USUARIO" (
    OPCION_P IN VARCHAR2,
    COD_USUARIO_P IN NUMBER,
    NOMBRE_USUARIO_P IN VARCHAR2,
    APELLIDO1_USUARIO_P IN VARCHAR2,
    APELLIDO2_USUARIO_P IN VARCHAR2,
    EMAIL_USUARIO_P IN VARCHAR2,
    TELEFONO_USUARIO_P IN NUMBER,
    CONTRASENA_HASH_P IN VARCHAR2,
    COD_ESTADO_USUARIO_P IN NUMBER,
    CUR_USUARIO OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_USUARIO(COD_USUARIO, NOMBRE_USUARIO, APELLIDO1_USUARIO, APELLIDO2_USUARIO, EMAIL_USUARIO, TELEFONO_USUARIO, CONTRASENA_HASH, COD_ESTADO_USUARIO)
            VALUES (COD_USUARIO_P, NOMBRE_USUARIO_P, APELLIDO1_USUARIO_P, APELLIDO2_USUARIO_P, EMAIL_USUARIO_P, TELEFONO_USUARIO_P, CONTRASENA_HASH_P, COD_ESTADO_USUARIO_P);

        WHEN 'R' THEN
            OPEN CUR_USUARIO FOR
                SELECT COD_USUARIO, NOMBRE_USUARIO, APELLIDO1_USUARIO, APELLIDO2_USUARIO, EMAIL_USUARIO, TELEFONO_USUARIO, CONTRASENA_HASH, COD_ESTADO_USUARIO
                FROM JRGY_USUARIO
                WHERE COD_USUARIO = COD_USUARIO_P;

        WHEN 'U' THEN
            UPDATE JRGY_USUARIO
            SET NOMBRE_USUARIO      = NOMBRE_USUARIO_P,
                APELLIDO1_USUARIO   = APELLIDO1_USUARIO_P,
                APELLIDO2_USUARIO   = APELLIDO2_USUARIO_P,
                EMAIL_USUARIO       = EMAIL_USUARIO_P,
                TELEFONO_USUARIO    = TELEFONO_USUARIO_P,
                CONTRASENA_HASH     = CONTRASENA_HASH_P,
                COD_ESTADO_USUARIO  = COD_ESTADO_USUARIO_P
            WHERE COD_USUARIO = COD_USUARIO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-343, 'NO SE ENCONTRO EL CLIENTE');
            END IF;

        WHEN 'D' THEN
            DELETE FROM JRGY_USUARIO WHERE COD_USUARIO = COD_USUARIO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-343, 'NO SE ENCONTRO EL CLIENTE');
            END IF;

        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_USUARIO_ROL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_USUARIO_ROL" (
    OPCION_P IN VARCHAR2,
    COD_USUARIO_P IN NUMBER,
    COD_ROL_P IN NUMBER,
    CUR_USUARIO_ROL OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_USUARIO_ROL (COD_USUARIO, COD_ROL)
            VALUES (COD_USUARIO_P, COD_ROL_P);
        WHEN 'R' THEN
            OPEN CUR_USUARIO_ROL FOR
                SELECT COD_USUARIO, COD_ROL
                FROM JRGY_USUARIO_ROL
                WHERE COD_USUARIO = COD_USUARIO_P AND COD_ROL = COD_ROL_P;
        WHEN 'U' THEN
            RAISE_APPLICATION_ERROR(-20021, 'UPDATE NO SOPORTADO, ELIMINE Y CREE NUEVO');
        WHEN 'D' THEN
            DELETE FROM JRGY_USUARIO_ROL
            WHERE COD_USUARIO = COD_USUARIO_P AND COD_ROL = COD_ROL_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20021, 'ASIGNACION NO ENCONTRADA');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_VENTA
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_VENTA" (
    OPCION_P IN VARCHAR2,
    COD_VENTA_P IN NUMBER,
    COD_USUARIO_P IN NUMBER,
    COD_EMPLEADO_P IN NUMBER,
    FECHA_VENTA_P IN DATE,
    CUR_VENTA OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_VENTA (COD_VENTA, COD_USUARIO, COD_EMPLEADO, FECHA_VENTA)
            VALUES (COD_VENTA_P, COD_USUARIO_P, COD_EMPLEADO_P, FECHA_VENTA_P);
        WHEN 'R' THEN
            OPEN CUR_VENTA FOR
                SELECT COD_VENTA, COD_USUARIO, COD_EMPLEADO, FECHA_VENTA
                FROM JRGY_VENTA
                WHERE COD_VENTA = COD_VENTA_P;
        WHEN 'U' THEN
            UPDATE JRGY_VENTA
            SET COD_USUARIO = COD_USUARIO_P,
                COD_EMPLEADO = COD_EMPLEADO_P,
                FECHA_VENTA = FECHA_VENTA_P
            WHERE COD_VENTA = COD_VENTA_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20032, 'VENTA NO ENCONTRADA');
            END IF;
        WHEN 'D' THEN
            DELETE FROM JRGY_VENTA WHERE COD_VENTA = COD_VENTA_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20032, 'VENTA NO ENCONTRADA');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_ASIGNAR_ROL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_ASIGNAR_ROL" (
    COD_USUARIO_P IN NUMBER,
    COD_ROL_P IN NUMBER
)
IS
    CURR SYS_REFCURSOR;
BEGIN
    CRUD_USUARIO_ROL('C', COD_USUARIO_P, COD_ROL_P, CURR);
END;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_DELETE_PEDIDO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_DELETE_PEDIDO" (
    COD_PEDIDO_P IN JRGY_PEDIDO.COD_PEDIDO%TYPE
)
IS
    PEDIDOS_ELIMINADOS NUMBER;
BEGIN
    DELETE FROM JRGY_PEDIDO WHERE COD_PEDIDO = COD_PEDIDO_P;
    PEDIDOS_ELIMINADOS := SQL%ROWCOUNT;

    IF PEDIDOS_ELIMINADOS = 0 THEN
        RAISE_APPLICATION_ERROR(-20014, 'Pedido con c√≥digo ' || COD_PEDIDO_P || ' no encontrado para eliminar.');
    END IF;

    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE_APPLICATION_ERROR(-20015, 'Error al eliminar el pedido: ' || SQLERRM);
END JRGY_PRO_DELETE_PEDIDO;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_INSERT_PEDIDO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_INSERT_PEDIDO" (
    COD_EMPLEADO_P IN JRGY_PEDIDO.COD_EMPLEADO%TYPE,
    DETALLES_P IN DETALLE_PEDIDO_TAB,
    COD_PEDIDO_OUT OUT JRGY_PEDIDO.COD_PEDIDO%TYPE
)
IS
    V_COD_PEDIDO JRGY_PEDIDO.COD_PEDIDO%TYPE;
    V_VALOR_TOTAL JRGY_PEDIDO.VALOR_TOTAL%TYPE := 0;
BEGIN
    V_COD_PEDIDO := SQ_PK_PEDIDO.NEXTVAL;

    FOR I IN 1 .. DETALLES_P.COUNT LOOP
        V_VALOR_TOTAL := V_VALOR_TOTAL + (DETALLES_P(I).CANTIDAD_PRODUCTO * DETALLES_P(I).PRECIO_COMPRA);
    END LOOP;

    INSERT INTO JRGY_PEDIDO (COD_PEDIDO, VALOR_TOTAL, FECHA_PEDIDO, COD_EMPLEADO)
    VALUES (V_COD_PEDIDO, V_VALOR_TOTAL, SYSDATE, COD_EMPLEADO_P);

    FOR I IN 1 .. DETALLES_P.COUNT LOOP
        INSERT INTO JRGY_DETALLE_PEDIDO (COD_PEDIDO, COD_PROVEEDOR, COD_PRODUCTO, NOMBRE_PRODUCTO, CANTIDAD_PRODUCTO, PRECIO_COMPRA, PRECIO_TOTAL)
        VALUES (
            V_COD_PEDIDO,
            DETALLES_P(I).COD_PROVEEDOR,
            DETALLES_P(I).COD_PRODUCTO,
            DETALLES_P(I).NOMBRE_PRODUCTO,
            DETALLES_P(I).CANTIDAD_PRODUCTO,
            DETALLES_P(I).PRECIO_COMPRA,
            DETALLES_P(I).CANTIDAD_PRODUCTO * DETALLES_P(I).PRECIO_COMPRA
        );

    END LOOP;

    COD_PEDIDO_OUT := V_COD_PEDIDO;
    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE_APPLICATION_ERROR(-20011, 'Error al insertar el pedido: ' || SQLERRM);
END JRGY_PRO_INSERT_PEDIDO;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_LOGIN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_LOGIN" (
    EMAIL_P IN VARCHAR2,
    CONTRASENA_P IN VARCHAR2,
    CUR_LOGIN OUT SYS_REFCURSOR
)
IS
    V_COUNT NUMBER;
BEGIN
    SELECT COUNT(*) INTO V_COUNT
    FROM JRGY_USUARIO
    WHERE EMAIL_USUARIO = EMAIL_P
      AND CONTRASENA_HASH = CONTRASENA_P;

    IF V_COUNT = 0 THEN
        RAISE_APPLICATION_ERROR(-20060, 'CREDENCIALES INVALIDAS');
    END IF;

    OPEN CUR_LOGIN FOR
        SELECT U.COD_USUARIO,
               U.NOMBRE_USUARIO,
               U.APELLIDO1_USUARIO,
               U.APELLIDO2_USUARIO,
               U.EMAIL_USUARIO,
               UR.COD_ROL
        FROM JRGY_USUARIO U
        LEFT JOIN JRGY_USUARIO_ROL UR ON UR.COD_USUARIO = U.COD_USUARIO
        WHERE U.EMAIL_USUARIO = EMAIL_P
          AND U.CONTRASENA_HASH = CONTRASENA_P;
END;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_PAGO_HABITACION
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_PAGO_HABITACION" (
    COD_USUARIO_P IN NUMBER,
    DETALLES_P IN DETALLE_ESTADIA_TAB,
    COD_PAGO_OUT OUT NUMBER,
    TOTAL_OUT OUT NUMBER
)
IS
    V_COD_PAGO NUMBER;
    V_TOTAL NUMBER := 0;
BEGIN
    IF DETALLES_P IS NULL OR DETALLES_P.COUNT = 0 THEN
        RAISE_APPLICATION_ERROR(-20043, 'DEBE ENVIAR DETALLES DE ESTADIA');
    END IF;

    V_COD_PAGO := SQ_PK_PAGO_HAB.NEXTVAL;

    FOR I IN 1 .. DETALLES_P.COUNT LOOP
        V_TOTAL := V_TOTAL + (DETALLES_P(I).PRECIO_HABITACION * DETALLES_P(I).DIAS);
    END LOOP;

    INSERT INTO JRGY_PAGO_HABITACION (COD_PAGO_HABITACION, FECHA_PAGO, VALOR_TOTAL_PAGO, COD_USUARIO)
    VALUES (V_COD_PAGO, SYSDATE, V_TOTAL, COD_USUARIO_P);

    FOR I IN 1 .. DETALLES_P.COUNT LOOP
        INSERT INTO JRGY_DETALLE_PAGO_HABITACION (COD_PAGO_HABITACION, COD_HABITACION, FECHA_ESTADIA, PRECIO_HABITACION, DIAS)
        VALUES (V_COD_PAGO, DETALLES_P(I).COD_HABITACION, DETALLES_P(I).FECHA_ESTADIA, DETALLES_P(I).PRECIO_HABITACION, DETALLES_P(I).DIAS);

        UPDATE JRGY_HABITACION
        SET COD_ESTADO_HABITACION = (
            SELECT COD_ESTADO_HABITACION
            FROM JRGY_CAT_ESTADO_HABITACION
            WHERE UPPER(ESTADO_HABITACION) = 'OCUPADA'
        )
        WHERE COD_HABITACION = DETALLES_P(I).COD_HABITACION;
    END LOOP;

    COD_PAGO_OUT := V_COD_PAGO;
    TOTAL_OUT := V_TOTAL;
    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE;
END;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_RECALC_STOCK
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_RECALC_STOCK" (
    COD_PRODUCTO_P IN NUMBER
)
IS
    V_STOCK NUMBER := 0;
BEGIN
    SELECT NVL(SUM(CASE WHEN TIPO_MOVIMIENTO = 'ENTRADA' THEN CANTIDAD WHEN TIPO_MOVIMIENTO = 'SALIDA' THEN -CANTIDAD ELSE 0 END), 0)
    INTO V_STOCK
    FROM JRGY_MOVIMIENTO_STOCK
    WHERE COD_PRODUCTO = COD_PRODUCTO_P;

    UPDATE JRGY_PRODUCTO SET STOCK_PRODUCTO = V_STOCK WHERE COD_PRODUCTO = COD_PRODUCTO_P;
    IF SQL%ROWCOUNT = 0 THEN
        RAISE_APPLICATION_ERROR(-20044, 'PRODUCTO NO ENCONTRADO');
    END IF;
    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE;
END;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_REGISTRAR_PEDIDO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_REGISTRAR_PEDIDO" (
    COD_EMPLEADO_P IN NUMBER,
    DETALLES_P IN DETALLE_PEDIDO_TAB,
    COD_PEDIDO_OUT OUT NUMBER,
    TOTAL_OUT OUT NUMBER
)
IS
    V_COD_PEDIDO NUMBER;
    V_TOTAL NUMBER := 0;
BEGIN
    IF DETALLES_P IS NULL OR DETALLES_P.COUNT = 0 THEN
        RAISE_APPLICATION_ERROR(-20042, 'DEBE ENVIAR DETALLES DE PEDIDO');
    END IF;

    V_COD_PEDIDO := SQ_PK_PEDIDO.NEXTVAL;

    FOR I IN 1 .. DETALLES_P.COUNT LOOP
        V_TOTAL := V_TOTAL + (DETALLES_P(I).CANTIDAD_PRODUCTO * DETALLES_P(I).PRECIO_COMPRA);
    END LOOP;

    INSERT INTO JRGY_PEDIDO (COD_PEDIDO, VALOR_TOTAL, FECHA_PEDIDO, COD_EMPLEADO)
    VALUES (V_COD_PEDIDO, V_TOTAL, SYSDATE, COD_EMPLEADO_P);

    FOR I IN 1 .. DETALLES_P.COUNT LOOP
        INSERT INTO JRGY_DETALLE_PEDIDO (COD_PEDIDO, COD_PROVEEDOR, COD_PRODUCTO, NOMBRE_PRODUCTO, CANTIDAD_PRODUCTO, PRECIO_COMPRA, PRECIO_TOTAL)
        VALUES (
            V_COD_PEDIDO,
            DETALLES_P(I).COD_PROVEEDOR,
            DETALLES_P(I).COD_PRODUCTO,
            DETALLES_P(I).NOMBRE_PRODUCTO,
            DETALLES_P(I).CANTIDAD_PRODUCTO,
            DETALLES_P(I).PRECIO_COMPRA,
            DETALLES_P(I).CANTIDAD_PRODUCTO * DETALLES_P(I).PRECIO_COMPRA
        );

        UPDATE JRGY_PRODUCTO
        SET STOCK_PRODUCTO = NVL(STOCK_PRODUCTO, 0) + DETALLES_P(I).CANTIDAD_PRODUCTO
        WHERE COD_PRODUCTO = DETALLES_P(I).COD_PRODUCTO;

        INSERT INTO JRGY_MOVIMIENTO_STOCK (COD_MOVIMIENTO, COD_PRODUCTO, TIPO_MOVIMIENTO, CANTIDAD, FECHA_MOVIMIENTO, MOTIVO)
        VALUES (SQ_PK_MOVIMIENTO_STOCK.NEXTVAL, DETALLES_P(I).COD_PRODUCTO, 'ENTRADA', DETALLES_P(I).CANTIDAD_PRODUCTO, SYSDATE, 'PEDIDO ' || V_COD_PEDIDO);
    END LOOP;

    COD_PEDIDO_OUT := V_COD_PEDIDO;
    TOTAL_OUT := V_TOTAL;
    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE;
END;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_REGISTRAR_VENTA
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_REGISTRAR_VENTA" (
    COD_USUARIO_P IN NUMBER,
    COD_EMPLEADO_P IN NUMBER,
    DETALLES_P IN DETALLE_VENTA_TAB,
    COD_VENTA_OUT OUT NUMBER,
    TOTAL_OUT OUT NUMBER
)
IS
    V_COD_VENTA NUMBER;
    V_TOTAL NUMBER := 0;
BEGIN
    IF DETALLES_P IS NULL OR DETALLES_P.COUNT = 0 THEN
        RAISE_APPLICATION_ERROR(-20040, 'DEBE ENVIAR DETALLES DE VENTA');
    END IF;

    V_COD_VENTA := SQ_PK_VENTA.NEXTVAL;

    FOR I IN 1 .. DETALLES_P.COUNT LOOP
        IF FN_STOCK_DISP(DETALLES_P(I).COD_PRODUCTO) < DETALLES_P(I).CANTIDAD THEN
            RAISE_APPLICATION_ERROR(-20041, 'STOCK INSUFICIENTE PARA PRODUCTO ' || DETALLES_P(I).COD_PRODUCTO);
        END IF;
        V_TOTAL := V_TOTAL + (DETALLES_P(I).CANTIDAD * DETALLES_P(I).PRECIO_PRODUCTO);
    END LOOP;

    INSERT INTO JRGY_VENTA (COD_VENTA, COD_USUARIO, COD_EMPLEADO, FECHA_VENTA)
    VALUES (V_COD_VENTA, COD_USUARIO_P, COD_EMPLEADO_P, SYSDATE);

    FOR I IN 1 .. DETALLES_P.COUNT LOOP
        INSERT INTO JRGY_DETALLE_VENTA (COD_VENTA, COD_PRODUCTO, CANTIDAD, PRECIO_PRODUCTO, PRECIO_TOTAL)
        VALUES (V_COD_VENTA, DETALLES_P(I).COD_PRODUCTO, DETALLES_P(I).CANTIDAD, DETALLES_P(I).PRECIO_PRODUCTO, DETALLES_P(I).CANTIDAD * DETALLES_P(I).PRECIO_PRODUCTO);

        UPDATE JRGY_PRODUCTO
        SET STOCK_PRODUCTO = STOCK_PRODUCTO - DETALLES_P(I).CANTIDAD
        WHERE COD_PRODUCTO = DETALLES_P(I).COD_PRODUCTO;

        INSERT INTO JRGY_MOVIMIENTO_STOCK (COD_MOVIMIENTO, COD_PRODUCTO, TIPO_MOVIMIENTO, CANTIDAD, FECHA_MOVIMIENTO, MOTIVO)
        VALUES (SQ_PK_MOVIMIENTO_STOCK.NEXTVAL, DETALLES_P(I).COD_PRODUCTO, 'SALIDA', DETALLES_P(I).CANTIDAD, SYSDATE, 'VENTA ' || V_COD_VENTA);
    END LOOP;

    COD_VENTA_OUT := V_COD_VENTA;
    TOTAL_OUT := V_TOTAL;
    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE;
END;

/
--------------------------------------------------------
--  DDL for Procedure JRGY_PRO_UPDATE_PEDIDO_TOTAL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."JRGY_PRO_UPDATE_PEDIDO_TOTAL" (
    COD_PEDIDO_P IN JRGY_PEDIDO.COD_PEDIDO%TYPE
)
IS
    NUEVO_TOTAL JRGY_PEDIDO.VALOR_TOTAL%TYPE;
BEGIN
    SELECT NVL(SUM(PRECIO_TOTAL), 0)
    INTO NUEVO_TOTAL
    FROM JRGY_DETALLE_PEDIDO
    WHERE COD_PEDIDO = COD_PEDIDO_P;

    UPDATE JRGY_PEDIDO
    SET VALOR_TOTAL = NUEVO_TOTAL
    WHERE COD_PEDIDO = COD_PEDIDO_P;

    IF SQL%ROWCOUNT = 0 THEN
        RAISE_APPLICATION_ERROR(-20012, 'Pedido con c√≥digo ' || COD_PEDIDO_P || ' no encontrado.');
    END IF;

    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        ROLLBACK;
        RAISE_APPLICATION_ERROR(-20013, 'Error al recalcular y actualizar total del pedido: ' || SQLERRM);
END JRGY_PRO_UPDATE_PEDIDO_TOTAL;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_USUARIO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_USUARIO" (
    OPCION_P IN VARCHAR2,
    COD_USUARIO_P IN NUMBER,
    NOMBRE_USUARIO_P IN VARCHAR2,
    APELLIDO1_USUARIO_P IN VARCHAR2,
    APELLIDO2_USUARIO_P IN VARCHAR2,
    EMAIL_USUARIO_P IN VARCHAR2,
    TELEFONO_USUARIO_P IN NUMBER,
    CONTRASENA_HASH_P IN VARCHAR2,
    COD_ESTADO_USUARIO_P IN NUMBER,
    CUR_USUARIO OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_USUARIO(COD_USUARIO, NOMBRE_USUARIO, APELLIDO1_USUARIO, APELLIDO2_USUARIO, EMAIL_USUARIO, TELEFONO_USUARIO, CONTRASENA_HASH, COD_ESTADO_USUARIO)
            VALUES (COD_USUARIO_P, NOMBRE_USUARIO_P, APELLIDO1_USUARIO_P, APELLIDO2_USUARIO_P, EMAIL_USUARIO_P, TELEFONO_USUARIO_P, CONTRASENA_HASH_P, COD_ESTADO_USUARIO_P);

        WHEN 'R' THEN
            OPEN CUR_USUARIO FOR
                SELECT COD_USUARIO, NOMBRE_USUARIO, APELLIDO1_USUARIO, APELLIDO2_USUARIO, EMAIL_USUARIO, TELEFONO_USUARIO, CONTRASENA_HASH, COD_ESTADO_USUARIO
                FROM JRGY_USUARIO
                WHERE COD_USUARIO = COD_USUARIO_P;

        WHEN 'U' THEN
            UPDATE JRGY_USUARIO
            SET NOMBRE_USUARIO      = NOMBRE_USUARIO_P,
                APELLIDO1_USUARIO   = APELLIDO1_USUARIO_P,
                APELLIDO2_USUARIO   = APELLIDO2_USUARIO_P,
                EMAIL_USUARIO       = EMAIL_USUARIO_P,
                TELEFONO_USUARIO    = TELEFONO_USUARIO_P,
                CONTRASENA_HASH     = CONTRASENA_HASH_P,
                COD_ESTADO_USUARIO  = COD_ESTADO_USUARIO_P
            WHERE COD_USUARIO = COD_USUARIO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-343, 'NO SE ENCONTRO EL CLIENTE');
            END IF;

        WHEN 'D' THEN
            DELETE FROM JRGY_USUARIO WHERE COD_USUARIO = COD_USUARIO_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-343, 'NO SE ENCONTRO EL CLIENTE');
            END IF;

        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Procedure CRUD_USUARIO_ROL
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "UCM"."CRUD_USUARIO_ROL" (
    OPCION_P IN VARCHAR2,
    COD_USUARIO_P IN NUMBER,
    COD_ROL_P IN NUMBER,
    CUR_USUARIO_ROL OUT SYS_REFCURSOR
)
IS
BEGIN
    CASE UPPER(OPCION_P)
        WHEN 'C' THEN
            INSERT INTO JRGY_USUARIO_ROL (COD_USUARIO, COD_ROL)
            VALUES (COD_USUARIO_P, COD_ROL_P);
        WHEN 'R' THEN
            OPEN CUR_USUARIO_ROL FOR
                SELECT COD_USUARIO, COD_ROL
                FROM JRGY_USUARIO_ROL
                WHERE COD_USUARIO = COD_USUARIO_P AND COD_ROL = COD_ROL_P;
        WHEN 'U' THEN
            RAISE_APPLICATION_ERROR(-20021, 'UPDATE NO SOPORTADO, ELIMINE Y CREE NUEVO');
        WHEN 'D' THEN
            DELETE FROM JRGY_USUARIO_ROL
            WHERE COD_USUARIO = COD_USUARIO_P AND COD_ROL = COD_ROL_P;
            IF SQL%ROWCOUNT = 0 THEN
                RAISE_APPLICATION_ERROR(-20021, 'ASIGNACION NO ENCONTRADA');
            END IF;
        ELSE
            RAISE_APPLICATION_ERROR(-2003, 'INGRESE C R U D');
    END CASE;
END;

/
--------------------------------------------------------
--  DDL for Package PKG_PEDIDO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "UCM"."PKG_PEDIDO" IS
    TYPE CURSOR_P IS REF CURSOR;
    PROCEDURE JRGY_PRO_GET_PEDIDO_DETALLE (
        COD_PEDIDO_P IN JRGY_PEDIDO.COD_PEDIDO%TYPE,
        CURSOR_P OUT CURSOR_P
    );
END PKG_PEDIDO;

/
--------------------------------------------------------
--  DDL for Package PKG_REPORTES
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "UCM"."PKG_REPORTES" AS
    TYPE CURSOR_P IS REF CURSOR;
    PROCEDURE REP_TOP_PRODUCTOS_MES (ANIO IN NUMBER, MES IN NUMBER, CURSOR_OUT OUT CURSOR_P);
    PROCEDURE REP_OCUPACION_HABITACIONES (CURSOR_OUT OUT CURSOR_P);
    PROCEDURE REP_COMPRAS_POR_PROVEEDOR (CURSOR_OUT OUT CURSOR_P);
END PKG_REPORTES;

/
--------------------------------------------------------
--  DDL for Package PKG_PEDIDO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "UCM"."PKG_PEDIDO" IS
    TYPE CURSOR_P IS REF CURSOR;
    PROCEDURE JRGY_PRO_GET_PEDIDO_DETALLE (
        COD_PEDIDO_P IN JRGY_PEDIDO.COD_PEDIDO%TYPE,
        CURSOR_P OUT CURSOR_P
    );
END PKG_PEDIDO;

/
--------------------------------------------------------
--  DDL for Package PKG_REPORTES
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "UCM"."PKG_REPORTES" AS
    TYPE CURSOR_P IS REF CURSOR;
    PROCEDURE REP_TOP_PRODUCTOS_MES (ANIO IN NUMBER, MES IN NUMBER, CURSOR_OUT OUT CURSOR_P);
    PROCEDURE REP_OCUPACION_HABITACIONES (CURSOR_OUT OUT CURSOR_P);
    PROCEDURE REP_COMPRAS_POR_PROVEEDOR (CURSOR_OUT OUT CURSOR_P);
END PKG_REPORTES;

/
--------------------------------------------------------
--  DDL for Package Body PKG_PEDIDO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "UCM"."PKG_PEDIDO" IS
    PROCEDURE JRGY_PRO_GET_PEDIDO_DETALLE (
        COD_PEDIDO_P IN JRGY_PEDIDO.COD_PEDIDO%TYPE,
        CURSOR_P OUT CURSOR_P
    ) IS
    BEGIN
        OPEN CURSOR_P FOR
            SELECT P.COD_PEDIDO,
                   P.FECHA_PEDIDO,
                   P.VALOR_TOTAL AS VALOR_TOTAL_PEDIDO,
                   DP.COD_PROVEEDOR,
                   DP.NOMBRE_PRODUCTO,
                   DP.CANTIDAD_PRODUCTO,
                   DP.PRECIO_COMPRA,
                   DP.PRECIO_TOTAL AS VALOR_TOTAL_DETALLE
            FROM JRGY_PEDIDO P
            JOIN JRGY_DETALLE_PEDIDO DP ON DP.COD_PEDIDO = P.COD_PEDIDO
            WHERE P.COD_PEDIDO = COD_PEDIDO_P;
    END JRGY_PRO_GET_PEDIDO_DETALLE;
END PKG_PEDIDO;

/
--------------------------------------------------------
--  DDL for Package Body PKG_REPORTES
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "UCM"."PKG_REPORTES" AS
    PROCEDURE REP_TOP_PRODUCTOS_MES (ANIO IN NUMBER, MES IN NUMBER, CURSOR_OUT OUT CURSOR_P) IS
    BEGIN
        OPEN CURSOR_OUT FOR
            SELECT dv.COD_PRODUCTO,
                   SUM(dv.CANTIDAD) AS TOTAL_VENDIDO,
                   SUM(dv.PRECIO_TOTAL) AS TOTAL_MONTO
            FROM JRGY_VENTA v
            JOIN JRGY_DETALLE_VENTA dv ON dv.COD_VENTA = v.COD_VENTA
            WHERE EXTRACT(YEAR FROM v.FECHA_VENTA) = ANIO
              AND EXTRACT(MONTH FROM v.FECHA_VENTA) = MES
            GROUP BY dv.COD_PRODUCTO
            ORDER BY TOTAL_VENDIDO DESC;
    END;

    PROCEDURE REP_OCUPACION_HABITACIONES (CURSOR_OUT OUT CURSOR_P) IS
    BEGIN
        OPEN CURSOR_OUT FOR
            SELECT CEH.ESTADO_HABITACION,
                   COUNT(*) AS TOTAL
            FROM JRGY_HABITACION H
            LEFT JOIN JRGY_CAT_ESTADO_HABITACION CEH ON CEH.COD_ESTADO_HABITACION = H.COD_ESTADO_HABITACION
            GROUP BY CEH.ESTADO_HABITACION;
    END;

    PROCEDURE REP_COMPRAS_POR_PROVEEDOR (CURSOR_OUT OUT CURSOR_P) IS
    BEGIN
        OPEN CURSOR_OUT FOR
            SELECT dp.COD_PROVEEDOR,
                   SUM(dp.PRECIO_TOTAL) AS TOTAL_COMPRADO,
                   COUNT(*) AS LINEAS
            FROM JRGY_DETALLE_PEDIDO dp
            GROUP BY dp.COD_PROVEEDOR
            ORDER BY TOTAL_COMPRADO DESC;
    END;
END PKG_REPORTES;

/
--------------------------------------------------------
--  DDL for Function FN_CALC_COMISION
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UCM"."FN_CALC_COMISION" (COD_EMPLEADO_P IN NUMBER, MONTO_VENTA IN NUMBER) RETURN NUMBER IS
    PCT NUMBER;
BEGIN
    SELECT NVL(COMISION, 0) INTO PCT FROM JRGY_EMPLEADO WHERE COD_EMPLEADO = COD_EMPLEADO_P;
    RETURN ROUND(MONTO_VENTA * (PCT / 100), 2);
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        RETURN 0;
END;

/
--------------------------------------------------------
--  DDL for Function FN_CALC_IVA
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UCM"."FN_CALC_IVA" (MONTO IN NUMBER) RETURN NUMBER IS
BEGIN
    RETURN ROUND(MONTO * 0.19, 2);
END;

/
--------------------------------------------------------
--  DDL for Function FN_STOCK_DISP
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UCM"."FN_STOCK_DISP" (COD_PRODUCTO_P IN NUMBER) RETURN NUMBER IS
    STK NUMBER;
BEGIN
    SELECT NVL(STOCK_PRODUCTO, 0) INTO STK FROM JRGY_PRODUCTO WHERE COD_PRODUCTO = COD_PRODUCTO_P;
    RETURN STK;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        RETURN 0;
END;

/
--------------------------------------------------------
--  DDL for Function FN_STOCK_DISP
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UCM"."FN_STOCK_DISP" (COD_PRODUCTO_P IN NUMBER) RETURN NUMBER IS
    STK NUMBER;
BEGIN
    SELECT NVL(STOCK_PRODUCTO, 0) INTO STK FROM JRGY_PRODUCTO WHERE COD_PRODUCTO = COD_PRODUCTO_P;
    RETURN STK;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        RETURN 0;
END;

/
--------------------------------------------------------
--  Constraints for Table JRGY_CALLE
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CALLE" ADD CONSTRAINT "PK_JRGY_CALLE" PRIMARY KEY ("COD_CALLE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_CAT_ESTADO_HABITACION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CAT_ESTADO_HABITACION" ADD CONSTRAINT "PK_JRGY_CAT_ESTADO_HABITACION" PRIMARY KEY ("COD_ESTADO_HABITACION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_CAT_ESTADO_LABORAL
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CAT_ESTADO_LABORAL" ADD CONSTRAINT "PK_JRGY_CAT_ESTADO_LABORAL" PRIMARY KEY ("COD_ESTADO_LABORAL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_CAT_ESTADO_RESERVA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CAT_ESTADO_RESERVA" ADD CONSTRAINT "PK_JRGY_CAT_ESTADO_RESERVA" PRIMARY KEY ("COD_ESTADO_RESERVA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_CAT_ESTADO_USUARIO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CAT_ESTADO_USUARIO" ADD CONSTRAINT "PK_JRGY_CAT_ESTADO_USUARIO" PRIMARY KEY ("COD_ESTADO_USUARIO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_CAT_MODO_PAGO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CAT_MODO_PAGO" ADD CONSTRAINT "PK_JRGY_CAT_MODO_PAGO" PRIMARY KEY ("COD_MODO_PAGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_CAT_TIPO_HABITACION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CAT_TIPO_HABITACION" ADD CONSTRAINT "PK_JRGY_CAT_TIPO_HABITACION" PRIMARY KEY ("COD_TIPO_HABITACION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_CIUDAD
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CIUDAD" ADD CONSTRAINT "PK_JRGY_CIUDAD" PRIMARY KEY ("COD_CIUDAD")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_CLIENTE
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CLIENTE" ADD CONSTRAINT "PK_JRGY_CLIENTE" PRIMARY KEY ("COD_CLIENTE")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_COMUNA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_COMUNA" ADD CONSTRAINT "PK_JRGY_COMUNA" PRIMARY KEY ("COD_COMUNA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_DEPARTAMENTO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_DEPARTAMENTO" ADD CONSTRAINT "PK_JRGY_DEPARTAMENTO" PRIMARY KEY ("COD_DEPARTAMENTO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_DETALLE_PAGO_HABITACION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_DETALLE_PAGO_HABITACION" ADD CONSTRAINT "PK_JRGY_DETALLE_PAGO_HABITACION" PRIMARY KEY ("COD_PAGO_HABITACION", "COD_HABITACION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_DETALLE_PEDIDO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_DETALLE_PEDIDO" ADD CONSTRAINT "PK_JRGY_DETALLE_PEDIDO" PRIMARY KEY ("COD_PEDIDO", "COD_PROVEEDOR", "COD_PRODUCTO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_DETALLE_VENTA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_DETALLE_VENTA" ADD CONSTRAINT "PK_JRGY_DETALLE_VENTA" PRIMARY KEY ("COD_VENTA", "COD_PRODUCTO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_EMPLEADO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_EMPLEADO" ADD CONSTRAINT "PK_JRGY_EMPLEADO" PRIMARY KEY ("COD_EMPLEADO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_EVENTO_RESERVA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_EVENTO_RESERVA" MODIFY ("COD_RESERVA" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_EVENTO_RESERVA" ADD CONSTRAINT "PK_JRGY_EVENTO_RESERVA" PRIMARY KEY ("COD_EVENTO_RESERVA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_EXPERIENCIA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_EXPERIENCIA" ADD CONSTRAINT "PK_JRGY_EXPERIENCIA" PRIMARY KEY ("COD_EXPERIENCIA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_HABITACION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_HABITACION" ADD CONSTRAINT "PK_JRGY_HABITACION" PRIMARY KEY ("COD_HABITACION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_MOVIMIENTO_STOCK
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_MOVIMIENTO_STOCK" ADD CONSTRAINT "PK_JRGY_MOVIMIENTO_STOCK" PRIMARY KEY ("COD_MOVIMIENTO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_PAGO_HABITACION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PAGO_HABITACION" ADD CONSTRAINT "PK_JRGY_PAGO_HABITACION" PRIMARY KEY ("COD_PAGO_HABITACION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_PAGO_VENTA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PAGO_VENTA" ADD CONSTRAINT "PK_JRGY_PAGO_VENTA" PRIMARY KEY ("COD_PAGO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_PEDIDO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PEDIDO" ADD CONSTRAINT "PK_JRGY_PEDIDO" PRIMARY KEY ("COD_PEDIDO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_PRODUCTO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PRODUCTO" ADD CONSTRAINT "PK_JRGY_PRODUCTO" PRIMARY KEY ("COD_PRODUCTO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_PROVEEDOR
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PROVEEDOR" ADD CONSTRAINT "PK_JRGY_PROVEEDOR" PRIMARY KEY ("COD_PROVEEDOR")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_REGION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_REGION" ADD CONSTRAINT "PK_JRGY_REGION" PRIMARY KEY ("COD_REGION")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_RESERVA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_RESERVA" MODIFY ("COD_USUARIO" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_RESERVA" MODIFY ("COD_HABITACION" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_RESERVA" MODIFY ("FECHA_INICIO" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_RESERVA" MODIFY ("FECHA_FIN" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_RESERVA" ADD CONSTRAINT "CHK_JRGY_RESERVA_FECHAS" CHECK (FECHA_FIN >= FECHA_INICIO) ENABLE;
  ALTER TABLE "UCM"."JRGY_RESERVA" ADD CONSTRAINT "PK_JRGY_RESERVA" PRIMARY KEY ("COD_RESERVA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_RESERVA_EXP
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_RESERVA_EXP" MODIFY ("COD_RESERVA" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_RESERVA_EXP" MODIFY ("COD_EXPERIENCIA" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_RESERVA_EXP" ADD CONSTRAINT "PK_JRGY_RESERVA_EXP" PRIMARY KEY ("COD_RESERVA_EXP")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_ROL
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_ROL" ADD CONSTRAINT "PK_JRGY_ROL" PRIMARY KEY ("COD_ROL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_SOLICITUD_ADMIN
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_SOLICITUD_ADMIN" MODIFY ("COD_USUARIO" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_SOLICITUD_ADMIN" MODIFY ("ESTADO" NOT NULL ENABLE);
  ALTER TABLE "UCM"."JRGY_SOLICITUD_ADMIN" ADD CONSTRAINT "CHK_JRGY_SOLICITUD_ESTADO" CHECK (ESTADO IN ('pending', 'approved', 'rejected')) ENABLE;
  ALTER TABLE "UCM"."JRGY_SOLICITUD_ADMIN" ADD CONSTRAINT "PK_JRGY_SOLICITUD_ADMIN" PRIMARY KEY ("COD_SOLICITUD")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_USUARIO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_USUARIO" ADD CONSTRAINT "PK_JRGY_USUARIO" PRIMARY KEY ("COD_USUARIO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_USUARIO_ROL
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_USUARIO_ROL" ADD CONSTRAINT "PK_JRGY_USUARIO_ROL" PRIMARY KEY ("COD_USUARIO", "COD_ROL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JRGY_VENTA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_VENTA" ADD CONSTRAINT "PK_JRGY_VENTA" PRIMARY KEY ("COD_VENTA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TOKENS
--------------------------------------------------------

  ALTER TABLE "UCM"."TOKENS" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "UCM"."TOKENS" ADD CONSTRAINT "PK_TOKENS" PRIMARY KEY ("TOKEN")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_CALLE
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CALLE" ADD CONSTRAINT "FK_JRGY_CALLE_COMUNA" FOREIGN KEY ("COD_COMUNA")
	  REFERENCES "UCM"."JRGY_COMUNA" ("COD_COMUNA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_CIUDAD
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CIUDAD" ADD CONSTRAINT "FK_JRGY_CIUDAD_REGION" FOREIGN KEY ("COD_REGION")
	  REFERENCES "UCM"."JRGY_REGION" ("COD_REGION") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_CLIENTE
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_CLIENTE" ADD CONSTRAINT "FK_JRGY_CLIENTE_USUARIO" FOREIGN KEY ("COD_USUARIO")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_COMUNA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_COMUNA" ADD CONSTRAINT "FK_JRGY_COMUNA_CIUDAD" FOREIGN KEY ("COD_CIUDAD")
	  REFERENCES "UCM"."JRGY_CIUDAD" ("COD_CIUDAD") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_DEPARTAMENTO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_DEPARTAMENTO" ADD CONSTRAINT "FK_JRGY_DEPTO_JEFE" FOREIGN KEY ("JEFE_EMPLEADO_ID")
	  REFERENCES "UCM"."JRGY_EMPLEADO" ("COD_EMPLEADO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_DETALLE_PAGO_HABITACION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_DETALLE_PAGO_HABITACION" ADD CONSTRAINT "FK_JRGY_DETALLE_PAGO_HABITACION_PAGO" FOREIGN KEY ("COD_PAGO_HABITACION")
	  REFERENCES "UCM"."JRGY_PAGO_HABITACION" ("COD_PAGO_HABITACION") ON DELETE CASCADE ENABLE;
  ALTER TABLE "UCM"."JRGY_DETALLE_PAGO_HABITACION" ADD CONSTRAINT "FK_JRGY_DETALLE_PAGO_HABITACION_HAB" FOREIGN KEY ("COD_HABITACION")
	  REFERENCES "UCM"."JRGY_HABITACION" ("COD_HABITACION") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_DETALLE_PEDIDO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_DETALLE_PEDIDO" ADD CONSTRAINT "FK_JRGY_DETALLE_PEDIDO_PEDIDO" FOREIGN KEY ("COD_PEDIDO")
	  REFERENCES "UCM"."JRGY_PEDIDO" ("COD_PEDIDO") ON DELETE CASCADE ENABLE;
  ALTER TABLE "UCM"."JRGY_DETALLE_PEDIDO" ADD CONSTRAINT "FK_JRGY_DETALLE_PEDIDO_PROVEEDOR" FOREIGN KEY ("COD_PROVEEDOR")
	  REFERENCES "UCM"."JRGY_PROVEEDOR" ("COD_PROVEEDOR") ENABLE;
  ALTER TABLE "UCM"."JRGY_DETALLE_PEDIDO" ADD CONSTRAINT "FK_JRGY_DETALLE_PEDIDO_PRODUCTO" FOREIGN KEY ("COD_PRODUCTO")
	  REFERENCES "UCM"."JRGY_PRODUCTO" ("COD_PRODUCTO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_DETALLE_VENTA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_DETALLE_VENTA" ADD CONSTRAINT "FK_JRGY_DETALLE_VENTA_VENTA" FOREIGN KEY ("COD_VENTA")
	  REFERENCES "UCM"."JRGY_VENTA" ("COD_VENTA") ON DELETE CASCADE ENABLE;
  ALTER TABLE "UCM"."JRGY_DETALLE_VENTA" ADD CONSTRAINT "FK_JRGY_DETALLE_VENTA_PRODUCTO" FOREIGN KEY ("COD_PRODUCTO")
	  REFERENCES "UCM"."JRGY_PRODUCTO" ("COD_PRODUCTO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_EMPLEADO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_EMPLEADO" ADD CONSTRAINT "FK_JRGY_EMPLEADO_USUARIO" FOREIGN KEY ("COD_USUARIO")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
  ALTER TABLE "UCM"."JRGY_EMPLEADO" ADD CONSTRAINT "FK_JRGY_EMPLEADO_DEPTO" FOREIGN KEY ("COD_DEPARTAMENTO")
	  REFERENCES "UCM"."JRGY_DEPARTAMENTO" ("COD_DEPARTAMENTO") ENABLE;
  ALTER TABLE "UCM"."JRGY_EMPLEADO" ADD CONSTRAINT "FK_JRGY_EMPLEADO_ESTADO" FOREIGN KEY ("COD_ESTADO_LABORAL")
	  REFERENCES "UCM"."JRGY_CAT_ESTADO_LABORAL" ("COD_ESTADO_LABORAL") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_EVENTO_RESERVA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_EVENTO_RESERVA" ADD CONSTRAINT "FK_JRGY_EVENTO_RESERVA_RES" FOREIGN KEY ("COD_RESERVA")
	  REFERENCES "UCM"."JRGY_RESERVA" ("COD_RESERVA") ON DELETE CASCADE ENABLE;
  ALTER TABLE "UCM"."JRGY_EVENTO_RESERVA" ADD CONSTRAINT "FK_JRGY_EVENTO_RESERVA_USER" FOREIGN KEY ("CREATED_BY")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_HABITACION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_HABITACION" ADD CONSTRAINT "FK_JRGY_HAB_TIPO" FOREIGN KEY ("COD_TIPO_HABITACION")
	  REFERENCES "UCM"."JRGY_CAT_TIPO_HABITACION" ("COD_TIPO_HABITACION") ENABLE;
  ALTER TABLE "UCM"."JRGY_HABITACION" ADD CONSTRAINT "FK_JRGY_HAB_ESTADO" FOREIGN KEY ("COD_ESTADO_HABITACION")
	  REFERENCES "UCM"."JRGY_CAT_ESTADO_HABITACION" ("COD_ESTADO_HABITACION") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_MOVIMIENTO_STOCK
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_MOVIMIENTO_STOCK" ADD CONSTRAINT "FK_JRGY_MOVIMIENTO_STOCK_PRODUCTO" FOREIGN KEY ("COD_PRODUCTO")
	  REFERENCES "UCM"."JRGY_PRODUCTO" ("COD_PRODUCTO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_PAGO_HABITACION
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PAGO_HABITACION" ADD CONSTRAINT "FK_JRGY_PAGO_HABITACION_USUARIO" FOREIGN KEY ("COD_USUARIO")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_PAGO_VENTA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PAGO_VENTA" ADD CONSTRAINT "FK_JRGY_PAGO_VENTA_VENTA" FOREIGN KEY ("COD_VENTA")
	  REFERENCES "UCM"."JRGY_VENTA" ("COD_VENTA") ENABLE;
  ALTER TABLE "UCM"."JRGY_PAGO_VENTA" ADD CONSTRAINT "FK_JRGY_PAGO_VENTA_MODO" FOREIGN KEY ("COD_MODO_PAGO")
	  REFERENCES "UCM"."JRGY_CAT_MODO_PAGO" ("COD_MODO_PAGO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_PEDIDO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PEDIDO" ADD CONSTRAINT "FK_JRGY_PEDIDO_EMPLEADO" FOREIGN KEY ("COD_EMPLEADO")
	  REFERENCES "UCM"."JRGY_EMPLEADO" ("COD_EMPLEADO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_PROVEEDOR
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_PROVEEDOR" ADD CONSTRAINT "FK_JRGY_PROVEEDOR_REGION" FOREIGN KEY ("COD_REGION")
	  REFERENCES "UCM"."JRGY_REGION" ("COD_REGION") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_RESERVA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_RESERVA" ADD CONSTRAINT "FK_JRGY_RESERVA_USUARIO" FOREIGN KEY ("COD_USUARIO")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
  ALTER TABLE "UCM"."JRGY_RESERVA" ADD CONSTRAINT "FK_JRGY_RESERVA_HAB" FOREIGN KEY ("COD_HABITACION")
	  REFERENCES "UCM"."JRGY_HABITACION" ("COD_HABITACION") ENABLE;
  ALTER TABLE "UCM"."JRGY_RESERVA" ADD CONSTRAINT "FK_JRGY_RESERVA_ESTADO" FOREIGN KEY ("COD_ESTADO_RESERVA")
	  REFERENCES "UCM"."JRGY_CAT_ESTADO_RESERVA" ("COD_ESTADO_RESERVA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_RESERVA_EXP
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_RESERVA_EXP" ADD CONSTRAINT "FK_JRGY_RES_EXP_RESERVA" FOREIGN KEY ("COD_RESERVA")
	  REFERENCES "UCM"."JRGY_RESERVA" ("COD_RESERVA") ON DELETE CASCADE ENABLE;
  ALTER TABLE "UCM"."JRGY_RESERVA_EXP" ADD CONSTRAINT "FK_JRGY_RES_EXP_EXP" FOREIGN KEY ("COD_EXPERIENCIA")
	  REFERENCES "UCM"."JRGY_EXPERIENCIA" ("COD_EXPERIENCIA") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_SOLICITUD_ADMIN
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_SOLICITUD_ADMIN" ADD CONSTRAINT "FK_JRGY_SOLICITUD_USUARIO" FOREIGN KEY ("COD_USUARIO")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
  ALTER TABLE "UCM"."JRGY_SOLICITUD_ADMIN" ADD CONSTRAINT "FK_JRGY_SOLICITUD_APROBADO" FOREIGN KEY ("APROBADO_POR")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_USUARIO
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_USUARIO" ADD CONSTRAINT "FK_JRGY_USUARIO_ESTADO" FOREIGN KEY ("COD_ESTADO_USUARIO")
	  REFERENCES "UCM"."JRGY_CAT_ESTADO_USUARIO" ("COD_ESTADO_USUARIO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_USUARIO_ROL
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_USUARIO_ROL" ADD CONSTRAINT "FK_JRGY_USUARIO_ROL_USUARIO" FOREIGN KEY ("COD_USUARIO")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
  ALTER TABLE "UCM"."JRGY_USUARIO_ROL" ADD CONSTRAINT "FK_JRGY_USUARIO_ROL_ROL" FOREIGN KEY ("COD_ROL")
	  REFERENCES "UCM"."JRGY_ROL" ("COD_ROL") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table JRGY_VENTA
--------------------------------------------------------

  ALTER TABLE "UCM"."JRGY_VENTA" ADD CONSTRAINT "FK_JRGY_VENTA_USUARIO" FOREIGN KEY ("COD_USUARIO")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
  ALTER TABLE "UCM"."JRGY_VENTA" ADD CONSTRAINT "FK_JRGY_VENTA_EMPLEADO" FOREIGN KEY ("COD_EMPLEADO")
	  REFERENCES "UCM"."JRGY_EMPLEADO" ("COD_EMPLEADO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TOKENS
--------------------------------------------------------

  ALTER TABLE "UCM"."TOKENS" ADD CONSTRAINT "FK_TOKENS_USUARIO" FOREIGN KEY ("USER_ID")
	  REFERENCES "UCM"."JRGY_USUARIO" ("COD_USUARIO") ENABLE;
